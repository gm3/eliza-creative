(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function xi(e,t){e.indexOf(t)===-1&&e.push(t)}function sr(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ht=(e,t,n)=>n>t?t:n<e?e:n;let on=()=>{};const Lt={},ar=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Si(e){return typeof e=="object"&&e!==null}const or=e=>/^0[^.\s]+$/u.test(e);function ln(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jt=e=>e,Ai=(e,t)=>n=>t(e(n)),cn=(...e)=>e.reduce(Ai),un=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class lr{constructor(){this.subscriptions=[]}add(t){return xi(this.subscriptions,t),()=>sr(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ct=e=>e*1e3,xt=e=>e/1e3;function cr(e,t){return t?e*(1e3/t):0}const Ei=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},ur=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Ci=1e-7,Ti=12;function Ii(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=ur(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>Ci&&++o<Ti);return s}function ve(e,t,n,r){if(e===t&&n===r)return Jt;const i=a=>Ii(a,0,1,e,n);return a=>a===0||a===1?a:ur(i(a),t,r)}const dr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hr=e=>t=>1-e(1-t),fr=ve(.33,1.53,.69,.99),dn=hr(fr),pr=dr(dn),mr=e=>(e*=2)<1?.5*dn(e):.5*(2-Math.pow(2,-10*(e-1))),hn=e=>1-Math.sin(Math.acos(e)),zi=hr(hn),gr=dr(hn),Bi=ve(.42,0,1,1),Li=ve(0,0,.58,1),yr=ve(.42,0,.58,1),vr=e=>Array.isArray(e)&&typeof e[0]!="number";function br(e,t){return vr(e)?e[Ei(0,e.length,t)]:e}const wr=e=>Array.isArray(e)&&typeof e[0]=="number",Mi={linear:Jt,easeIn:Bi,easeInOut:yr,easeOut:Li,circIn:hn,circInOut:gr,circOut:zi,backIn:dn,backInOut:pr,backOut:fr,anticipate:mr},Oi=e=>typeof e=="string",Ve=e=>{if(wr(e)){on(e.length===4);const[t,n,r,i]=e;return ve(t,n,r,i)}else if(Oi(e))return Mi[e];return e},xe=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Pi(e,t){let n=new Set,r=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(p){s.has(p)&&(g.schedule(p),e()),p(o)}const g={schedule:(p,f=!1,d=!1)=>{const y=d&&i?n:r;return f&&s.add(p),y.has(p)||y.add(p),p},cancel:p=>{r.delete(p),s.delete(p)},process:p=>{if(o=p,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,a&&(a=!1,g.process(p))}};return g}const Di=40;function _r(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,s=xe.reduce((x,E)=>(x[E]=Pi(a),x),{}),{setup:o,read:l,resolveKeyframes:g,preUpdate:p,update:f,preRender:d,render:h,postRender:y}=s,u=()=>{const x=Lt.useManualTiming?i.timestamp:performance.now();n=!1,Lt.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,Di),1)),i.timestamp=x,i.isProcessing=!0,o.process(i),l.process(i),g.process(i),p.process(i),f.process(i),d.process(i),h.process(i),y.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(u))},b=()=>{n=!0,r=!0,i.isProcessing||e(u)};return{schedule:xe.reduce((x,E)=>{const S=s[E];return x[E]=(B,L=!1,O=!1)=>(n||b(),S.schedule(B,L,O)),x},{}),cancel:x=>{for(let E=0;E<xe.length;E++)s[xe[E]].cancel(x)},state:i,steps:s}}const{schedule:Mt,cancel:je,state:ze}=_r(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jt,!0);let Te;function Fi(){Te=void 0}const _t={now:()=>(Te===void 0&&_t.set(ze.isProcessing||Lt.useManualTiming?ze.timestamp:performance.now()),Te),set:e=>{Te=e,queueMicrotask(Fi)}},kr=e=>t=>typeof t=="string"&&t.startsWith(e),xr=kr("--"),$i=kr("var(--"),fn=e=>$i(e)?Ri.test(e.split("/*")[0].trim()):!1,Ri=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qt={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},he={...Qt,transform:e=>Ht(0,1,e)},Se={...Qt,default:1},ce=e=>Math.round(e*1e5)/1e5,pn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ni(e){return e==null}const Vi=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mn=(e,t)=>n=>!!(typeof n=="string"&&Vi.test(n)&&n.startsWith(e)||t&&!Ni(n)&&Object.prototype.hasOwnProperty.call(n,t)),Sr=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,s,o]=r.match(pn);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},ji=e=>Ht(0,255,e),Pe={...Qt,transform:e=>Math.round(ji(e))},$t={test:mn("rgb","red"),parse:Sr("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Pe.transform(e)+", "+Pe.transform(t)+", "+Pe.transform(n)+", "+ce(he.transform(r))+")"};function Ui(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ue={test:mn("#"),parse:Ui,transform:$t.transform},be=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ot=be("deg"),Gt=be("%"),nt=be("px"),Wi=be("vh"),Hi=be("vw"),Ln={...Gt,parse:e=>Gt.parse(e)/100,transform:e=>Gt.transform(e*100)},qt={test:mn("hsl","hue"),parse:Sr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Gt.transform(ce(t))+", "+Gt.transform(ce(n))+", "+ce(he.transform(r))+")"},pt={test:e=>$t.test(e)||Ue.test(e)||qt.test(e),parse:e=>$t.test(e)?$t.parse(e):qt.test(e)?qt.parse(e):Ue.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?$t.transform(e):qt.transform(e),getAnimatableNone:e=>{const t=pt.parse(e);return t.alpha=0,pt.transform(t)}},Ki=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Zi(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(pn))==null?void 0:t.length)||0)+(((n=e.match(Ki))==null?void 0:n.length)||0)>0}const Ar="number",Er="color",qi="var",Gi="var(",Mn="${}",Yi=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fe(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=t.replace(Yi,l=>(pt.test(l)?(r.color.push(a),i.push(Er),n.push(pt.parse(l))):l.startsWith(Gi)?(r.var.push(a),i.push(qi),n.push(l)):(r.number.push(a),i.push(Ar),n.push(parseFloat(l))),++a,Mn)).split(Mn);return{values:n,split:o,indexes:r,types:i}}function Cr(e){return fe(e).values}function Tr(e){const{split:t,types:n}=fe(e),r=t.length;return i=>{let a="";for(let s=0;s<r;s++)if(a+=t[s],i[s]!==void 0){const o=n[s];o===Ar?a+=ce(i[s]):o===Er?a+=pt.transform(i[s]):a+=i[s]}return a}}const Xi=e=>typeof e=="number"?0:pt.test(e)?pt.getAnimatableNone(e):e;function Ji(e){const t=Cr(e);return Tr(e)(t.map(Xi))}const Dt={test:Zi,parse:Cr,createTransformer:Tr,getAnimatableNone:Ji};function De(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Qi({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=De(l,o,e+1/3),a=De(l,o,e),s=De(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}function Be(e,t){return n=>n>0?t:e}const te=(e,t,n)=>e+(t-e)*n,Fe=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},ts=[Ue,$t,qt],es=e=>ts.find(t=>t.test(e));function On(e){const t=es(e);if(!t)return!1;let n=t.parse(e);return t===qt&&(n=Qi(n)),n}const Pn=(e,t)=>{const n=On(e),r=On(t);if(!n||!r)return Be(e,t);const i={...n};return a=>(i.red=Fe(n.red,r.red,a),i.green=Fe(n.green,r.green,a),i.blue=Fe(n.blue,r.blue,a),i.alpha=te(n.alpha,r.alpha,a),$t.transform(i))},We=new Set(["none","hidden"]);function ns(e,t){return We.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function rs(e,t){return n=>te(e,t,n)}function gn(e){return typeof e=="number"?rs:typeof e=="string"?fn(e)?Be:pt.test(e)?Pn:as:Array.isArray(e)?Ir:typeof e=="object"?pt.test(e)?Pn:is:Be}function Ir(e,t){const n=[...e],r=n.length,i=e.map((a,s)=>gn(a)(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}}function is(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=gn(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function ss(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],s=e.indexes[a][r[a]],o=e.values[s]??0;n[i]=o,r[a]++}return n}const as=(e,t)=>{const n=Dt.createTransformer(t),r=fe(e),i=fe(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?We.has(e)&&!i.values.length||We.has(t)&&!r.values.length?ns(e,t):cn(Ir(ss(r,i),i.values),n):Be(e,t)};function zr(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?te(e,t,n):gn(e)(e,t)}const os=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Mt.update(t,n),stop:()=>je(t),now:()=>ze.isProcessing?ze.timestamp:_t.now()}},Br=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Le=2e4;function yn(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Le;)t+=n,r=e.next(t);return t>=Le?1/0:t}function Lr(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(yn(r),Le);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:xt(i)}}const ls=5;function Mr(e,t,n){const r=Math.max(t-ls,0);return cr(n-e(r),t-r)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$e=.001;function cs({duration:e=ut.duration,bounce:t=ut.bounce,velocity:n=ut.velocity,mass:r=ut.mass}){let i,a,s=1-t;s=Ht(ut.minDamping,ut.maxDamping,s),e=Ht(ut.minDuration,ut.maxDuration,xt(e)),s<1?(i=g=>{const p=g*s,f=p*e,d=p-n,h=He(g,s),y=Math.exp(-f);return $e-d/h*y},a=g=>{const f=g*s*e,d=f*n+n,h=Math.pow(s,2)*Math.pow(g,2)*e,y=Math.exp(-f),u=He(Math.pow(g,2),s);return(-i(g)+$e>0?-1:1)*((d-h)*y)/u}):(i=g=>{const p=Math.exp(-g*e),f=(g-n)*e+1;return-$e+p*f},a=g=>{const p=Math.exp(-g*e),f=(n-g)*(e*e);return p*f});const o=5/e,l=ds(i,a,o);if(e=Ct(e),isNaN(l))return{stiffness:ut.stiffness,damping:ut.damping,duration:e};{const g=Math.pow(l,2)*r;return{stiffness:g,damping:s*2*Math.sqrt(r*g),duration:e}}}const us=12;function ds(e,t,n){let r=n;for(let i=1;i<us;i++)r=r-e(r)/t(r);return r}function He(e,t){return e*Math.sqrt(1-t*t)}const hs=["duration","bounce"],fs=["stiffness","damping","mass"];function Dn(e,t){return t.some(n=>e[n]!==void 0)}function ps(e){let t={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...e};if(!Dn(e,fs)&&Dn(e,hs))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ht(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ut.mass,stiffness:i,damping:a}}else{const n=cs(e);t={...t,...n,mass:ut.mass},t.isResolvedFromDuration=!0}return t}function pe(e=ut.visualDuration,t=ut.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:g,mass:p,duration:f,velocity:d,isResolvedFromDuration:h}=ps({...n,velocity:-xt(n.velocity||0)}),y=d||0,u=g/(2*Math.sqrt(l*p)),b=s-a,v=xt(Math.sqrt(l/p)),w=Math.abs(b)<5;r||(r=w?ut.restSpeed.granular:ut.restSpeed.default),i||(i=w?ut.restDelta.granular:ut.restDelta.default);let x;if(u<1){const S=He(v,u);x=B=>{const L=Math.exp(-u*v*B);return s-L*((y+u*v*b)/S*Math.sin(S*B)+b*Math.cos(S*B))}}else if(u===1)x=S=>s-Math.exp(-v*S)*(b+(y+v*b)*S);else{const S=v*Math.sqrt(u*u-1);x=B=>{const L=Math.exp(-u*v*B),O=Math.min(S*B,300);return s-L*((y+u*v*b)*Math.sinh(O)+S*b*Math.cosh(O))/S}}const E={calculatedDuration:h&&f||null,next:S=>{const B=x(S);if(h)o.done=S>=f;else{let L=S===0?y:0;u<1&&(L=S===0?Ct(y):Mr(x,S,B));const O=Math.abs(L)<=r,I=Math.abs(s-B)<=i;o.done=O&&I}return o.value=o.done?s:B,o},toString:()=>{const S=Math.min(yn(E),Le),B=Br(L=>E.next(S*L).value,S,30);return S+"ms "+B},toTransition:()=>{}};return E}pe.applyToOptions=e=>{const t=Lr(e,100,pe);return e.ease=t.ease,e.duration=Ct(t.duration),e.type="keyframes",e};function Ke({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:g=.5,restSpeed:p}){const f=e[0],d={done:!1,value:f},h=O=>o!==void 0&&O<o||l!==void 0&&O>l,y=O=>o===void 0?l:l===void 0||Math.abs(o-O)<Math.abs(l-O)?o:l;let u=n*t;const b=f+u,v=s===void 0?b:s(b);v!==b&&(u=v-f);const w=O=>-u*Math.exp(-O/r),x=O=>v+w(O),E=O=>{const I=w(O),j=x(O);d.done=Math.abs(I)<=g,d.value=d.done?v:j};let S,B;const L=O=>{h(d.value)&&(S=O,B=pe({keyframes:[d.value,y(d.value)],velocity:Mr(x,O,d.value),damping:i,stiffness:a,restDelta:g,restSpeed:p}))};return L(0),{calculatedDuration:null,next:O=>{let I=!1;return!B&&S===void 0&&(I=!0,E(O),L(O)),S!==void 0&&O>=S?B.next(O-S):(!I&&E(O),d)}}}function ms(e,t,n){const r=[],i=n||Lt.mix||zr,a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Jt:t;o=cn(l,o)}r.push(o)}return r}function gs(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(on(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=ms(t,r,i),l=o.length,g=p=>{if(s&&p<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(p<e[f+1]);f++);const d=un(e[f],e[f+1],p);return o[f](d)};return n?p=>g(Ht(e[0],e[a-1],p)):g}function Or(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=un(0,t,r);e.push(te(n,1,i))}}function Pr(e){const t=[0];return Or(t,e.length-1),t}function ys(e,t){return e.map(n=>n*t)}function vs(e,t){return e.map(()=>t||yr).splice(0,e.length-1)}function ue({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=vr(r)?r.map(Ve):Ve(r),a={done:!1,value:t[0]},s=ys(n&&n.length===t.length?n:Pr(t),e),o=gs(s,t,{ease:Array.isArray(i)?i:vs(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}const bs=e=>e!==null;function vn(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(bs),o=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const ws={decay:Ke,inertia:Ke,tween:ue,keyframes:ue,spring:pe};function Dr(e){typeof e.type=="string"&&(e.type=ws[e.type])}class bn{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const _s=e=>e/100;class wn extends bn{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==_t.now()&&this.tick(_t.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Dr(t);const{type:n=ue,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=t;let{keyframes:o}=t;const l=n||ue;l!==ue&&typeof o[0]!="number"&&(this.mixKeyframes=cn(_s,zr(o[0],o[1])),o=[0,100]);const g=l({...t,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),g.calculatedDuration===null&&(g.calculatedDuration=yn(g));const{calculatedDuration:p}=g;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:p,repeat:f,repeatType:d,repeatDelay:h,type:y,onUpdate:u,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-g*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,E=r;if(f){const O=Math.min(this.currentTime,i)/o;let I=Math.floor(O),j=O%1;!j&&O>=1&&(j=1),j===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(d==="reverse"?(j=1-j,h&&(j-=h/o)):d==="mirror"&&(E=s)),x=Ht(0,1,j)*o}const S=w?{done:!1,value:p[0]}:E.next(x);a&&(S.value=a(S.value));let{done:B}=S;!w&&l!==null&&(B=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return L&&y!==Ke&&(S.value=vn(p,this.options,b,this.speed)),u&&u(S.value),L&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return xt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+xt(t)}get time(){return xt(this.currentTime)}set time(t){var n;t=Ct(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_t.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=xt(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=os,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_t.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function ks(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Rt=e=>e*180/Math.PI,Ze=e=>{const t=Rt(Math.atan2(e[1],e[0]));return qe(t)},xs={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ze,rotateZ:Ze,skewX:e=>Rt(Math.atan(e[1])),skewY:e=>Rt(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},qe=e=>(e=e%360,e<0&&(e+=360),e),Fn=Ze,$n=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Rn=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Ss={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$n,scaleY:Rn,scale:e=>($n(e)+Rn(e))/2,rotateX:e=>qe(Rt(Math.atan2(e[6],e[5]))),rotateY:e=>qe(Rt(Math.atan2(-e[2],e[0]))),rotateZ:Fn,rotate:Fn,skewX:e=>Rt(Math.atan(e[4])),skewY:e=>Rt(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ge(e){return e.includes("scale")?1:0}function Ye(e,t){if(!e||e==="none")return Ge(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Ss,i=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=xs,i=o}if(!i)return Ge(t);const a=r[t],s=i[1].split(",").map(Es);return typeof a=="function"?a(s):s[a]}const As=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ye(n,t)};function Es(e){return parseFloat(e.trim())}const ee=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ne=new Set(ee),Nn=e=>e===Qt||e===nt,Cs=new Set(["x","y","z"]),Ts=ee.filter(e=>!Cs.has(e));function Is(e){const t=[];return Ts.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Vt={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ye(t,"x"),y:(e,{transform:t})=>Ye(t,"y")};Vt.translateX=Vt.x;Vt.translateY=Vt.y;const jt=new Set;let Xe=!1,Je=!1,Qe=!1;function Fr(){if(Je){const e=Array.from(jt).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=Is(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,s])=>{var o;(o=r.getValue(a))==null||o.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Je=!1,Xe=!1,jt.forEach(e=>e.complete(Qe)),jt.clear()}function $r(){jt.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Je=!0)})}function zs(){Qe=!0,$r(),Fr(),Qe=!1}class _n{constructor(t,n,r,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(jt.add(this),Xe||(Xe=!0,Mt.read($r),Mt.resolveKeyframes(Fr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),s=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const o=r.readValue(n,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),i&&a===void 0&&i.set(t[0])}ks(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),jt.delete(this)}cancel(){this.state==="scheduled"&&(jt.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Bs=e=>e.startsWith("--");function Ls(e,t,n){Bs(t)?e.style.setProperty(t,n):e.style[t]=n}const Ms=ln(()=>window.ScrollTimeline!==void 0),Os={};function Ps(e,t){const n=ln(e);return()=>Os[t]??n()}const Rr=Ps(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oe=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Vn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oe([0,.65,.55,1]),circOut:oe([.55,0,1,.45]),backIn:oe([.31,.01,.66,-.59]),backOut:oe([.33,1.53,.69,.99])};function Nr(e,t){if(e)return typeof e=="function"?Rr()?Br(e,t):"ease-out":wr(e)?oe(e):Array.isArray(e)?e.map(n=>Nr(n,t)||Vn.easeOut):Vn[e]}function Ds(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},g=void 0){const p={[t]:n};l&&(p.offset=l);const f=Nr(o,i);Array.isArray(f)&&(p.easing=f);const d={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return g&&(d.pseudoElement=g),e.animate(p,d)}function kn(e){return typeof e=="function"&&"applyToOptions"in e}function Fs({type:e,...t}){return kn(e)&&Rr()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class $s extends bn{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=t,on(typeof t.type!="string");const g=Fs(t);this.animation=Ds(n,r,i,g,a),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=vn(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(p):Ls(n,r,p),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return xt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+xt(t)}get time(){return xt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ct(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Ms()?(this.animation.timeline=t,Jt):n(this)}}const Vr={anticipate:mr,backInOut:pr,circInOut:gr};function Rs(e){return e in Vr}function Ns(e){typeof e.ease=="string"&&Rs(e.ease)&&(e.ease=Vr[e.ease])}const jn=10;class Vs extends $s{constructor(t){Ns(t),Dr(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new wn({...s,autoplay:!1}),l=Ct(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-jn).value,o.sample(l).value,jn),o.stop()}}const Un=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Dt.test(e)||e==="0")&&!e.startsWith("url("));function js(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Us(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=Un(i,t),o=Un(a,t);return!s||!o?!1:js(e)||(n==="spring"||kn(n))&&r}function tn(e){e.duration=0,e.type="keyframes"}const Ws=new Set(["opacity","clipPath","filter","transform"]),Hs=ln(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ks(e){var p;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:s}=e;if(!(((p=t==null?void 0:t.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:g}=t.owner.getProps();return Hs()&&n&&Ws.has(n)&&(n!=="transform"||!g)&&!l&&!r&&i!=="mirror"&&a!==0&&s!=="inertia"}const Zs=40;class qs extends bn{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:l,motionValue:g,element:p,...f}){var y;super(),this.stop=()=>{var u,b;this._animation&&(this._animation.stop(),(u=this.stopTimeline)==null||u.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=_t.now();const d={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:s,name:l,motionValue:g,element:p,...f},h=(p==null?void 0:p.KeyframeResolver)||_n;this.keyframeResolver=new h(o,(u,b,v)=>this.onKeyframesResolved(u,b,d,!v),l,g,p),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:l,isHandoff:g,onUpdate:p}=r;this.resolvedAt=_t.now(),Us(t,a,s,o)||((Lt.instantAnimations||!l)&&(p==null||p(vn(t,r,n))),t[0]=t[t.length-1],tn(r),r.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Zs?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},h=!g&&Ks(d)?new Vs({...d,element:d.motionValue.owner.current}):new wn(d);h.finished.then(()=>this.notifyFinished()).catch(Jt),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),zs()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class Gs{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return Wn(this.animations,"duration")}get iterationDuration(){return Wn(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Wn(e,t){let n=0;for(let r=0;r<e.length;r++){const i=e[r][t];i!==null&&i>n&&(n=i)}return n}class Ys extends Gs{then(t,n){return this.finished.finally(t).then(()=>{})}}const Xs=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Js(e){const t=Xs.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function jr(e,t,n=1){const[r,i]=Js(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return ar(s)?parseFloat(s):s}return fn(i)?jr(i,t,n+1):i}function Ur(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Wr=new Set(["width","height","top","left","right","bottom",...ee]),Qs={test:e=>e==="auto",parse:e=>e},Hr=e=>t=>t.test(e),Kr=[Qt,nt,Gt,Ot,Hi,Wi,Qs],Hn=e=>Kr.find(Hr(e));function ta(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||or(e):!0}const ea=new Set(["brightness","contrast","saturate","opacity"]);function na(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(pn)||[];if(!r)return e;const i=n.replace(r,"");let a=ea.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const ra=/\b([a-z-]*)\(.*?\)/gu,en={...Dt,getAnimatableNone:e=>{const t=e.match(ra);return t?t.map(na).join(" "):e}},Kn={...Qt,transform:Math.round},ia={rotate:Ot,rotateX:Ot,rotateY:Ot,rotateZ:Ot,scale:Se,scaleX:Se,scaleY:Se,scaleZ:Se,skew:Ot,skewX:Ot,skewY:Ot,distance:nt,translateX:nt,translateY:nt,translateZ:nt,x:nt,y:nt,z:nt,perspective:nt,transformPerspective:nt,opacity:he,originX:Ln,originY:Ln,originZ:nt},xn={borderWidth:nt,borderTopWidth:nt,borderRightWidth:nt,borderBottomWidth:nt,borderLeftWidth:nt,borderRadius:nt,radius:nt,borderTopLeftRadius:nt,borderTopRightRadius:nt,borderBottomRightRadius:nt,borderBottomLeftRadius:nt,width:nt,maxWidth:nt,height:nt,maxHeight:nt,top:nt,right:nt,bottom:nt,left:nt,padding:nt,paddingTop:nt,paddingRight:nt,paddingBottom:nt,paddingLeft:nt,margin:nt,marginTop:nt,marginRight:nt,marginBottom:nt,marginLeft:nt,backgroundPositionX:nt,backgroundPositionY:nt,...ia,zIndex:Kn,fillOpacity:he,strokeOpacity:he,numOctaves:Kn},sa={...xn,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:en,WebkitFilter:en},Zr=e=>sa[e];function qr(e,t){let n=Zr(e);return n!==en&&(n=Dt),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const aa=new Set(["auto","none","0"]);function oa(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!aa.has(a)&&fe(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=qr(n,i)}class la extends _n{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let g=t[l];if(typeof g=="string"&&(g=g.trim(),fn(g))){const p=jr(g,n.current);p!==void 0&&(t[l]=p),l===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Wr.has(r)||t.length!==2)return;const[i,a]=t,s=Hn(i),o=Hn(a);if(s!==o)if(Nn(s)&&Nn(o))for(let l=0;l<t.length;l++){const g=t[l];typeof g=="string"&&(t[l]=parseFloat(g))}else Vt[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||ta(t[i]))&&r.push(i);r.length&&oa(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vt[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,s=r[a];r[a]=Vt[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,g])=>{t.getValue(l).set(g)}),this.resolveNoneKeyframes()}}function ca(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Gr=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Zn=30,ua=e=>!isNaN(parseFloat(e));class da{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=_t.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=_t.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ua(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new lr);const r=this.events[t].add(n);return t==="change"?()=>{r(),Mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_t.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Zn)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Zn);return cr(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function me(e,t){return new da(e,t)}const{schedule:ha}=_r(queueMicrotask,!1);function Yr(e){return Si(e)&&"ownerSVGElement"in e}function fa(e){return Yr(e)&&e.tagName==="svg"}function pa(e,t){if(e==="first")return 0;{const n=t-1;return e==="last"?n:n/2}}function Kt(e=.1,{startDelay:t=0,from:n=0,ease:r}={}){return(i,a)=>{const s=typeof n=="number"?n:pa(n,a),o=Math.abs(s-i);let l=e*o;if(r){const g=a*e;l=Ve(r)(l/g)*g}return t+l}}const vt=e=>!!(e&&e.getVelocity),ma=[...Kr,pt,Dt],ga=e=>ma.find(Hr(e));function Sn(e){return typeof e=="object"&&!Array.isArray(e)}function Xr(e,t,n,r){return typeof e=="string"&&Sn(t)?ca(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function ya(e,t,n){return e*(t+1)}function qn(e,t,n,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):r.get(t)??e}function va(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(sr(e,i),r--)}}function ba(e,t,n,r,i,a){va(e,i,a);for(let s=0;s<t.length;s++)e.push({value:t[s],at:te(i,a,r[s]),easing:br(n,s)})}function wa(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function _a(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const ka="easeInOut";function xa(e,{defaultTransition:t={},...n}={},r,i){const a=t.duration||.3,s=new Map,o=new Map,l={},g=new Map;let p=0,f=0,d=0;for(let h=0;h<e.length;h++){const y=e[h];if(typeof y=="string"){g.set(y,f);continue}else if(!Array.isArray(y)){g.set(y.name,qn(f,y.at,p,g));continue}let[u,b,v={}]=y;v.at!==void 0&&(f=qn(f,v.at,p,g));let w=0;const x=(E,S,B,L=0,O=0)=>{const I=Sa(E),{delay:j=0,times:Y=Pr(I),type:A="keyframes",repeat:D,repeatType:m,repeatDelay:$=0,...rt}=S;let{ease:N=t.ease||"easeOut",duration:et}=S;const U=typeof j=="function"?j(L,O):j,tt=I.length,M=kn(A)?A:i==null?void 0:i[A||"keyframes"];if(tt<=2&&M){let H=100;if(tt===2&&Ca(I)){const it=I[1]-I[0];H=Math.abs(it)}const ot={...rt};et!==void 0&&(ot.duration=Ct(et));const dt=Lr(ot,H,M);N=dt.ease,et=dt.duration}et??(et=a);const z=f+U;Y.length===1&&Y[0]===0&&(Y[1]=1);const J=Y.length-I.length;if(J>0&&Or(Y,J),I.length===1&&I.unshift(null),D){et=ya(et,D);const H=[...I],ot=[...Y];N=Array.isArray(N)?[...N]:[N];const dt=[...N];for(let it=0;it<D;it++){I.push(...H);for(let st=0;st<H.length;st++)Y.push(ot[st]+(it+1)),N.push(st===0?"linear":br(dt,st-1))}wa(Y,D)}const q=z+et;ba(B,I,N,Y,z,q),w=Math.max(U+et,w),d=Math.max(q,d)};if(vt(u)){const E=Gn(u,o);x(b,v,Yn("default",E))}else{const E=Xr(u,b,r,l),S=E.length;for(let B=0;B<S;B++){b=b,v=v;const L=E[B],O=Gn(L,o);for(const I in b)x(b[I],Aa(v,I),Yn(I,O),B,S)}}p=f,f+=w}return o.forEach((h,y)=>{for(const u in h){const b=h[u];b.sort(_a);const v=[],w=[],x=[];for(let S=0;S<b.length;S++){const{at:B,value:L,easing:O}=b[S];v.push(L),w.push(un(0,d,B)),x.push(O||"easeOut")}w[0]!==0&&(w.unshift(0),v.unshift(v[0]),x.unshift(ka)),w[w.length-1]!==1&&(w.push(1),v.push(null)),s.has(y)||s.set(y,{keyframes:{},transition:{}});const E=s.get(y);E.keyframes[u]=v,E.transition[u]={...t,duration:d,ease:x,times:w,...n}}}),s}function Gn(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Yn(e,t){return t[e]||(t[e]=[]),t[e]}function Sa(e){return Array.isArray(e)?e:[e]}function Aa(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Ea=e=>typeof e=="number",Ca=e=>e.every(Ea),ge=new WeakMap,Ta=e=>Array.isArray(e);function Xn(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Jr(e,t,n,r){if(typeof t=="function"){const[i,a]=Xn(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Xn(r);t=t(n!==void 0?n:e.custom,i,a)}return t}function Ia(e,t,n){const r=e.getProps();return Jr(r,t,r.custom,e)}function za(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,me(n))}function Ba(e){return Ta(e)?e[e.length-1]||0:e}function La(e,t){const n=Ia(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const s in a){const o=Ba(a[s]);za(e,s,o)}}function Ma(e){return!!(vt(e)&&e.add)}function Oa(e,t){const n=e.getValue("willChange");if(Ma(n))return n.add(t);if(!n&&Lt.WillChange){const r=new Lt.WillChange("auto");e.addValue("willChange",r),r.add(t)}}const An=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Pa="framerAppearId",Da="data-"+An(Pa);function Fa(e){return e.props[Da]}const $a=e=>e!==null;function Ra(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter($a),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const Na={type:"spring",stiffness:500,damping:25,restSpeed:10},Va=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ja={type:"keyframes",duration:.8},Ua={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wa=(e,{keyframes:t})=>t.length>2?ja:ne.has(e)?e.startsWith("scale")?Va(t[1]):Na:Ua;function Ha({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:g,...p}){return!!Object.keys(p).length}const Qr=(e,t,n,r={},i,a)=>s=>{const o=Ur(r,e)||{},l=o.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Ct(l);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-g,onUpdate:d=>{t.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};Ha(o)||Object.assign(p,Wa(e,p)),p.duration&&(p.duration=Ct(p.duration)),p.repeatDelay&&(p.repeatDelay=Ct(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let f=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(tn(p),p.delay===0&&(f=!0)),(Lt.instantAnimations||Lt.skipAnimations)&&(f=!0,tn(p),p.delay=0),p.allowFlatten=!o.type&&!o.ease,f&&!a&&t.get()!==void 0){const d=Ra(p.keyframes,o);if(d!==void 0){Mt.update(()=>{p.onUpdate(d),p.onComplete()});return}}return o.isSync?new wn(p):new qs(p)};function Ka({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Za(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=t;r&&(a=r);const l=[],g=i&&e.animationState&&e.animationState.getState()[i];for(const p in o){const f=e.getValue(p,e.latestValues[p]??null),d=o[p];if(d===void 0||g&&Ka(g,p))continue;const h={delay:n,...Ur(a||{},p)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===y&&!h.velocity)continue;let u=!1;if(window.MotionHandoffAnimation){const v=Fa(e);if(v){const w=window.MotionHandoffAnimation(v,p,Mt);w!==null&&(h.startTime=w,u=!0)}}Oa(e,p),f.start(Qr(p,f,d,e.shouldReduceMotion&&Wr.has(p)?{type:!1}:h,e,u));const b=f.animation;b&&l.push(b)}return s&&Promise.all(l).then(()=>{Mt.update(()=>{s&&La(e,s)})}),l}function qa({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Ga(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ya(e,t){return qa(Ga(e.getBoundingClientRect(),t))}const Jn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nn={};for(const e in Jn)nn[e]={isEnabled:t=>Jn[e].some(n=>!!t[n])};const Qn=()=>({min:0,max:0}),En=()=>({x:Qn(),y:Qn()}),Xa=typeof window<"u",rn={current:null},ti={current:!1};function Ja(){if(ti.current=!0,!!Xa)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rn.current=e.matches;e.addEventListener("change",t),t()}else rn.current=!1}function Qa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function to(e){return typeof e=="string"||Array.isArray(e)}const eo=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],no=["initial",...eo];function ei(e){return Qa(e.animate)||no.some(t=>to(e[t]))}function ro(e){return!!(ei(e)||e.variants)}function io(e,t,n){for(const r in t){const i=t[r],a=n[r];if(vt(i))e.addValue(r,i);else if(vt(a))e.addValue(r,me(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,me(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const tr=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ni{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_n,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=_t.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Mt.render(this.render,!1,!0))};const{latestValues:l,renderState:g}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=ei(n),this.isVariantNode=ro(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const h=f[d];l[d]!==void 0&&vt(h)&&h.set(l[d])}}mount(t){var n;this.current=t,ge.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),ti.current||Ja(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rn.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),je(this.notifyUpdate),je(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ne.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in nn){const n=nn[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):En()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<tr.length;r++){const i=tr[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=t[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=io(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=me(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(ar(r)||or(r))?r=parseFloat(r):!ga(r)&&Dt.test(n)&&(r=qr(t,n)),this.setBaseTarget(t,vt(r)?r.get():r)),vt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=Jr(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!vt(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new lr),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){ha.render(this.render)}}class ri extends ni{constructor(){super(...arguments),this.KeyframeResolver=la}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}const so={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ao=ee.length;function oo(e,t,n){let r="",i=!0;for(let a=0;a<ao;a++){const s=ee[a],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const g=Gr(o,xn[s]);if(!l){i=!1;const p=so[s]||s;r+=`${p}(${g}) `}n&&(t[s]=g)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function ii(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let s=!1,o=!1;for(const l in t){const g=t[l];if(ne.has(l)){s=!0;continue}else if(xr(l)){i[l]=g;continue}else{const p=Gr(g,xn[l]);l.startsWith("origin")?(o=!0,a[l]=p):r[l]=p}}if(t.transform||(s||n?r.transform=oo(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:g="50%",originZ:p=0}=a;r.transformOrigin=`${l} ${g} ${p}`}}function si(e,{style:t,vars:n},r,i){const a=e.style;let s;for(s in t)a[s]=t[s];i==null||i.applyProjectionStyles(a,r);for(s in n)a.setProperty(s,n[s])}function er(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ae={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(nt.test(e))e=parseFloat(e);else return e;const n=er(e,t.target.x),r=er(e,t.target.y);return`${n}% ${r}%`}},lo={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Dt.parse(e);if(i.length>5)return r;const a=Dt.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const g=te(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=g),typeof i[3+s]=="number"&&(i[3+s]/=g),a(i)}},co={borderRadius:{...ae,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomLeftRadius:ae,borderBottomRightRadius:ae,boxShadow:lo};function uo(e,{layout:t,layoutId:n}){return ne.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!co[e]||e==="opacity")}function ai(e,t,n){var a;const{style:r}=e,i={};for(const s in r)(vt(r[s])||t.style&&vt(t.style[s])||uo(s,e)||((a=n==null?void 0:n.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(i[s]=r[s]);return i}function ho(e){return window.getComputedStyle(e)}class fo extends ri{constructor(){super(...arguments),this.type="html",this.renderInstance=si}readValueFromInstance(t,n){var r;if(ne.has(n))return(r=this.projection)!=null&&r.isProjecting?Ge(n):As(t,n);{const i=ho(t),a=(xr(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ya(t,n)}build(t,n,r){ii(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return ai(t,n,r)}}function po(e,t){return e in t}class mo extends ni{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(po(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return En()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}const go={offset:"stroke-dashoffset",array:"stroke-dasharray"},yo={offset:"strokeDashoffset",array:"strokeDasharray"};function vo(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?go:yo;e[a.offset]=nt.transform(-r);const s=nt.transform(t),o=nt.transform(n);e[a.array]=`${s} ${o}`}function bo(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,g,p){if(ii(e,o,g),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:d}=e;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&vo(f,i,a,s,!1)}const oi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),wo=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _o(e,t,n,r){si(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(oi.has(i)?i:An(i),t.attrs[i])}function ko(e,t,n){const r=ai(e,t,n);for(const i in e)if(vt(e[i])||vt(t[i])){const a=ee.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}class xo extends ri{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=En}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ne.has(n)){const r=Zr(n);return r&&r.default||0}return n=oi.has(n)?n:An(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return ko(t,n,r)}build(t,n,r){bo(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){_o(t,n,r,i)}mount(t){this.isSVGTag=wo(t.tagName),super.mount(t)}}function So(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Yr(e)&&!fa(e)?new xo(t):new fo(t);n.mount(e),ge.set(e,n)}function Ao(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new mo(t);n.mount(e),ge.set(e,n)}function Eo(e,t,n){const r=vt(e)?e:me(e);return r.start(Qr("",r,t,n)),r.animation}function Co(e,t){return vt(e)||typeof e=="number"||typeof e=="string"&&!Sn(t)}function li(e,t,n,r){const i=[];if(Co(e,t))i.push(Eo(e,Sn(t)&&t.default||t,n&&(n.default||n)));else{const a=Xr(e,t,r),s=a.length;for(let o=0;o<s;o++){const l=a[o],g=l instanceof Element?So:Ao;ge.has(l)||g(l);const p=ge.get(l),f={...n};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(o,s)),i.push(...Za(p,{...t,transition:f},{}))}}return i}function To(e,t,n){const r=[];return xa(e,t,n,{spring:pe}).forEach(({keyframes:a,transition:s},o)=>{r.push(...li(o,a,s))}),r}function Io(e){return Array.isArray(e)&&e.some(Array.isArray)}function zo(e){function t(n,r,i){let a=[],s;if(Io(n))a=To(n,r,e);else{const{onComplete:l,...g}=i||{};typeof l=="function"&&(s=l),a=li(n,r,g,e)}const o=new Ys(a);return s&&o.finished.then(s),o}return t}const Tt=zo();var Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ee(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ci={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,a){function s(g,p){if(!i[g]){if(!r[g]){var f=typeof Ee=="function"&&Ee;if(!p&&f)return f(g,!0);if(o)return o(g,!0);var d=new Error("Cannot find module '"+g+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[g]={exports:{}};r[g][0].call(h.exports,function(y){var u=r[g][1][y];return s(u||y)},h,h.exports,n,r,i,a)}return i[g].exports}for(var o=typeof Ee=="function"&&Ee,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(n,r,i){var a=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var g,p,f,d,h,y,u,b=[],v=0,w=l.length,x=w,E=a.getTypeOf(l)!=="string";v<l.length;)x=w-v,f=E?(g=l[v++],p=v<w?l[v++]:0,v<w?l[v++]:0):(g=l.charCodeAt(v++),p=v<w?l.charCodeAt(v++):0,v<w?l.charCodeAt(v++):0),d=g>>2,h=(3&g)<<4|p>>4,y=1<x?(15&p)<<2|f>>6:64,u=2<x?63&f:64,b.push(o.charAt(d)+o.charAt(h)+o.charAt(y)+o.charAt(u));return b.join("")},i.decode=function(l){var g,p,f,d,h,y,u=0,b=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var w,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&x--,l.charAt(l.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=s.uint8array?new Uint8Array(0|x):new Array(0|x);u<l.length;)g=o.indexOf(l.charAt(u++))<<2|(d=o.indexOf(l.charAt(u++)))>>4,p=(15&d)<<4|(h=o.indexOf(l.charAt(u++)))>>2,f=(3&h)<<6|(y=o.indexOf(l.charAt(u++))),w[b++]=g,h!==64&&(w[b++]=p),y!==64&&(w[b++]=f);return w}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function g(p,f,d,h,y){this.compressedSize=p,this.uncompressedSize=f,this.crc32=d,this.compression=h,this.compressedContent=y}g.prototype={getContentWorker:function(){var p=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return p.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(p,f,d){return p.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),s=function(){for(var o,l=[],g=0;g<256;g++){o=g;for(var p=0;p<8;p++)o=1&o?3988292384^o>>>1:o>>>1;l[g]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(g,p,f,d){var h=s,y=d+f;g^=-1;for(var u=d;u<y;u++)g=g>>>8^h[255&(g^p[u])];return-1^g}(0|l,o,o.length,0):function(g,p,f,d){var h=s,y=d+f;g^=-1;for(var u=d;u<y;u++)g=g>>>8^h[255&(g^p.charCodeAt(u))];return-1^g}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),g=a?"uint8array":"array";function p(f,d){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=d,this.meta={}}i.magic="\b\0",o.inherits(p,l),p.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(g,f.data),!1)},p.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(d){f.push({data:d,meta:f.meta})}},i.compressWorker=function(f){return new p("Deflate",f)},i.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(h,y){var u,b="";for(u=0;u<y;u++)b+=String.fromCharCode(255&h),h>>>=8;return b}function s(h,y,u,b,v,w){var x,E,S=h.file,B=h.compression,L=w!==g.utf8encode,O=o.transformTo("string",w(S.name)),I=o.transformTo("string",g.utf8encode(S.name)),j=S.comment,Y=o.transformTo("string",w(j)),A=o.transformTo("string",g.utf8encode(j)),D=I.length!==S.name.length,m=A.length!==j.length,$="",rt="",N="",et=S.dir,U=S.date,tt={crc32:0,compressedSize:0,uncompressedSize:0};y&&!u||(tt.crc32=h.crc32,tt.compressedSize=h.compressedSize,tt.uncompressedSize=h.uncompressedSize);var M=0;y&&(M|=8),L||!D&&!m||(M|=2048);var z=0,J=0;et&&(z|=16),v==="UNIX"?(J=798,z|=function(H,ot){var dt=H;return H||(dt=ot?16893:33204),(65535&dt)<<16}(S.unixPermissions,et)):(J=20,z|=function(H){return 63&(H||0)}(S.dosPermissions)),x=U.getUTCHours(),x<<=6,x|=U.getUTCMinutes(),x<<=5,x|=U.getUTCSeconds()/2,E=U.getUTCFullYear()-1980,E<<=4,E|=U.getUTCMonth()+1,E<<=5,E|=U.getUTCDate(),D&&(rt=a(1,1)+a(p(O),4)+I,$+="up"+a(rt.length,2)+rt),m&&(N=a(1,1)+a(p(Y),4)+A,$+="uc"+a(N.length,2)+N);var q="";return q+=`
\0`,q+=a(M,2),q+=B.magic,q+=a(x,2),q+=a(E,2),q+=a(tt.crc32,4),q+=a(tt.compressedSize,4),q+=a(tt.uncompressedSize,4),q+=a(O.length,2),q+=a($.length,2),{fileRecord:f.LOCAL_FILE_HEADER+q+O+$,dirRecord:f.CENTRAL_FILE_HEADER+a(J,2)+q+a(Y.length,2)+"\0\0\0\0"+a(z,4)+a(b,4)+O+$+Y}}var o=n("../utils"),l=n("../stream/GenericWorker"),g=n("../utf8"),p=n("../crc32"),f=n("../signature");function d(h,y,u,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=u,this.encodeFileName=b,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(d,l),d.prototype.push=function(h){var y=h.meta.percent||0,u=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:u?(y+100*(u-b-1))/u:100}}))},d.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var y=this.streamFiles&&!h.file.dir;if(y){var u=s(h,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(h){this.accumulate=!1;var y=this.streamFiles&&!h.file.dir,u=s(h,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),y)this.push({data:function(b){return f.DATA_DESCRIPTOR+a(b.crc32,4)+a(b.compressedSize,4)+a(b.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var h=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var u=this.bytesWritten-h,b=function(v,w,x,E,S){var B=o.transformTo("string",S(E));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(w,4)+a(x,4)+a(B.length,2)+B}(this.dirRecords.length,u,h,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(h){this._sources.push(h);var y=this;return h.on("data",function(u){y.processChunk(u)}),h.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),h.on("error",function(u){y.error(u)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(h){var y=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var u=0;u<y.length;u++)try{y[u].error(h)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,y=0;y<h.length;y++)h[y].lock()},r.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(o,l,g){var p=new s(l.streamFiles,g,l.platform,l.encodeFileName),f=0;try{o.forEach(function(d,h){f++;var y=function(w,x){var E=w||x,S=a[E];if(!S)throw new Error(E+" is not a valid compression method !");return S}(h.options.compression,l.compression),u=h.options.compressionOptions||l.compressionOptions||{},b=h.dir,v=h.date;h._compressWorker(y,u).withStreamInfo("file",{name:d,dir:b,date:v,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(p)}),p.entriesCount=f}catch(d){p.error(d)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),s=n("./external"),o=n("./utf8"),l=n("./zipEntries"),g=n("./stream/Crc32Probe"),p=n("./nodejsUtils");function f(d){return new s.Promise(function(h,y){var u=d.decompressed.getContentWorker().pipe(new g);u.on("error",function(b){y(b)}).on("end",function(){u.streamInfo.crc32!==d.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(d,h){var y=this;return h=a.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),p.isNode&&p.isStream(d)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",d,!0,h.optimizedBinaryString,h.base64).then(function(u){var b=new l(h);return b.load(u),b}).then(function(u){var b=[s.Promise.resolve(u)],v=u.files;if(h.checkCRC32)for(var w=0;w<v.length;w++)b.push(f(v[w]));return s.Promise.all(b)}).then(function(u){for(var b=u.shift(),v=b.files,w=0;w<v.length;w++){var x=v[w],E=x.fileNameStr,S=a.resolve(x.fileNameStr);y.file(S,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:h.createFolders}),x.dir||(y.file(S).unsafeOriginalName=E)}return b.zipComment.length&&(y.comment=b.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker");function o(l,g){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(g)}a.inherits(o,s),o.prototype._bindStream=function(l){var g=this;(this._stream=l).pause(),l.on("data",function(p){g.push({data:p,meta:{percent:0}})}).on("error",function(p){g.isPaused?this.generatedError=p:g.error(p)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function s(o,l,g){a.call(this,l),this._helper=o;var p=this;o.on("data",function(f,d){p.push(f)||p._helper.pause(),g&&g(d)}).on("error",function(f){p.emit("error",f)}).on("end",function(){p.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(S,B,L){var O,I=o.getTypeOf(B),j=o.extend(L||{},p);j.date=j.date||new Date,j.compression!==null&&(j.compression=j.compression.toUpperCase()),typeof j.unixPermissions=="string"&&(j.unixPermissions=parseInt(j.unixPermissions,8)),j.unixPermissions&&16384&j.unixPermissions&&(j.dir=!0),j.dosPermissions&&16&j.dosPermissions&&(j.dir=!0),j.dir&&(S=v(S)),j.createFolders&&(O=b(S))&&w.call(this,O,!0);var Y=I==="string"&&j.binary===!1&&j.base64===!1;L&&L.binary!==void 0||(j.binary=!Y),(B instanceof f&&B.uncompressedSize===0||j.dir||!B||B.length===0)&&(j.base64=!1,j.binary=!0,B="",j.compression="STORE",I="string");var A=null;A=B instanceof f||B instanceof l?B:y.isNode&&y.isStream(B)?new u(S,B):o.prepareContent(S,B,j.binary,j.optimizedBinaryString,j.base64);var D=new d(S,A,j);this.files[S]=D}var s=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),g=n("./stream/StreamHelper"),p=n("./defaults"),f=n("./compressedObject"),d=n("./zipObject"),h=n("./generate"),y=n("./nodejsUtils"),u=n("./nodejs/NodejsStreamInputAdapter"),b=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var B=S.lastIndexOf("/");return 0<B?S.substring(0,B):""},v=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},w=function(S,B){return B=B!==void 0?B:p.createFolders,S=v(S),this.files[S]||a.call(this,S,null,{dir:!0,createFolders:B}),this.files[S]};function x(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var B,L,O;for(B in this.files)O=this.files[B],(L=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&S(L,O)},filter:function(S){var B=[];return this.forEach(function(L,O){S(L,O)&&B.push(O)}),B},file:function(S,B,L){if(arguments.length!==1)return S=this.root+S,a.call(this,S,B,L),this;if(x(S)){var O=S;return this.filter(function(j,Y){return!Y.dir&&O.test(j)})}var I=this.files[this.root+S];return I&&!I.dir?I:null},folder:function(S){if(!S)return this;if(x(S))return this.filter(function(I,j){return j.dir&&S.test(I)});var B=this.root+S,L=w.call(this,B),O=this.clone();return O.root=L.name,O},remove:function(S){S=this.root+S;var B=this.files[S];if(B||(S.slice(-1)!=="/"&&(S+="/"),B=this.files[S]),B&&!B.dir)delete this.files[S];else for(var L=this.filter(function(I,j){return j.name.slice(0,S.length)===S}),O=0;O<L.length;O++)delete this.files[L[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var B,L={};try{if((L=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");o.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var O=L.comment||this.comment||"";B=h.generateWorker(this,L,O)}catch(I){(B=new l("error")).error(I)}return new g(B,L.type||"string",L.mimeType)},generateAsync:function(S,B){return this.generateInternalStream(S).accumulate(B)},generateNodeStream:function(S,B){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(B)}};r.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),g=o.charCodeAt(1),p=o.charCodeAt(2),f=o.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===g&&this.data[d+2]===p&&this.data[d+3]===f)return d-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),g=o.charCodeAt(1),p=o.charCodeAt(2),f=o.charCodeAt(3),d=this.readData(4);return l===d[0]&&g===d[1]&&p===d[2]&&f===d[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,g=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)g=(g<<8)+this.byteAt(l);return this.index+=o,g},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),s=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),g=n("./NodeBufferReader"),p=n("./Uint8ArrayReader");r.exports=function(f){var d=a.getTypeOf(f);return a.checkSupport(d),d!=="string"||s.uint8array?d==="nodebuffer"?new g(f):s.uint8array?new p(a.transformTo("uint8array",f)):new o(a.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),s=n("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),s=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(p){g.dataIsReady=!0,g.data=p,g.max=p&&p.length||0,g.type=a.getTypeOf(p),g.isPaused||g._tickAndRepeat()},function(p){g.error(p)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,g);break;case"uint8array":l=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":l=this.data.slice(this.index,g)}return this.index=g,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),g=n("../support"),p=n("../external"),f=null;if(g.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(y,u){return new p.Promise(function(b,v){var w=[],x=y._internalType,E=y._outputType,S=y._mimeType;y.on("data",function(B,L){w.push(B),u&&u(L)}).on("error",function(B){w=[],v(B)}).on("end",function(){try{var B=function(L,O,I){switch(L){case"blob":return a.newBlob(a.transformTo("arraybuffer",O),I);case"base64":return l.encode(O);default:return a.transformTo(L,O)}}(E,function(L,O){var I,j=0,Y=null,A=0;for(I=0;I<O.length;I++)A+=O[I].length;switch(L){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(Y=new Uint8Array(A),I=0;I<O.length;I++)Y.set(O[I],j),j+=O[I].length;return Y;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+L+"'")}}(x,w),S);b(B)}catch(L){v(L)}w=[]}).resume()})}function h(y,u,b){var v=u;switch(u){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=u,this._mimeType=b,a.checkSupport(v),this._worker=y.pipe(new s(v)),y.lock()}catch(w){this._worker=new o("error"),this._worker.error(w)}}h.prototype={accumulate:function(y){return d(this,y)},on:function(y,u){var b=this;return y==="data"?this._worker.on(y,function(v){u.call(b,v.data,v.meta)}):this._worker.on(y,function(){a.delay(u,arguments,b)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},y)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),g=new Array(256),p=0;p<256;p++)g[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;g[254]=g[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?o.newBufferFrom(h,"utf-8"):function(y){var u,b,v,w,x,E=y.length,S=0;for(w=0;w<E;w++)(64512&(b=y.charCodeAt(w)))==55296&&w+1<E&&(64512&(v=y.charCodeAt(w+1)))==56320&&(b=65536+(b-55296<<10)+(v-56320),w++),S+=b<128?1:b<2048?2:b<65536?3:4;for(u=s.uint8array?new Uint8Array(S):new Array(S),w=x=0;x<S;w++)(64512&(b=y.charCodeAt(w)))==55296&&w+1<E&&(64512&(v=y.charCodeAt(w+1)))==56320&&(b=65536+(b-55296<<10)+(v-56320),w++),b<128?u[x++]=b:(b<2048?u[x++]=192|b>>>6:(b<65536?u[x++]=224|b>>>12:(u[x++]=240|b>>>18,u[x++]=128|b>>>12&63),u[x++]=128|b>>>6&63),u[x++]=128|63&b);return u}(h)},i.utf8decode=function(h){return s.nodebuffer?a.transformTo("nodebuffer",h).toString("utf-8"):function(y){var u,b,v,w,x=y.length,E=new Array(2*x);for(u=b=0;u<x;)if((v=y[u++])<128)E[b++]=v;else if(4<(w=g[v]))E[b++]=65533,u+=w-1;else{for(v&=w===2?31:w===3?15:7;1<w&&u<x;)v=v<<6|63&y[u++],w--;1<w?E[b++]=65533:v<65536?E[b++]=v:(v-=65536,E[b++]=55296|v>>10&1023,E[b++]=56320|1023&v)}return E.length!==b&&(E.subarray?E=E.subarray(0,b):E.length=b),a.applyFromCharCode(E)}(h=a.transformTo(s.uint8array?"uint8array":"array",h))},a.inherits(f,l),f.prototype.processChunk=function(h){var y=a.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var u=y;(y=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),y.set(u,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var b=function(w,x){var E;for((x=x||w.length)>w.length&&(x=w.length),E=x-1;0<=E&&(192&w[E])==128;)E--;return E<0||E===0?x:E+g[w[E]]>x?E:x}(y),v=y;b!==y.length&&(s.uint8array?(v=y.subarray(0,b),this.leftOver=y.subarray(b,y.length)):(v=y.slice(0,b),this.leftOver=y.slice(b,y.length))),this.push({data:i.utf8decode(v),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,a.inherits(d,l),d.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function g(u){return u}function p(u,b){for(var v=0;v<u.length;++v)b[v]=255&u.charCodeAt(v);return b}n("setimmediate"),i.newBlob=function(u,b){i.checkSupport("blob");try{return new Blob([u],{type:b})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(u),v.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(u,b,v){var w=[],x=0,E=u.length;if(E<=v)return String.fromCharCode.apply(null,u);for(;x<E;)b==="array"||b==="nodebuffer"?w.push(String.fromCharCode.apply(null,u.slice(x,Math.min(x+v,E)))):w.push(String.fromCharCode.apply(null,u.subarray(x,Math.min(x+v,E)))),x+=v;return w.join("")},stringifyByChar:function(u){for(var b="",v=0;v<u.length;v++)b+=String.fromCharCode(u[v]);return b},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function d(u){var b=65536,v=i.getTypeOf(u),w=!0;if(v==="uint8array"?w=f.applyCanBeUsed.uint8array:v==="nodebuffer"&&(w=f.applyCanBeUsed.nodebuffer),w)for(;1<b;)try{return f.stringifyByChunk(u,v,b)}catch{b=Math.floor(b/2)}return f.stringifyByChar(u)}function h(u,b){for(var v=0;v<u.length;v++)b[v]=u[v];return b}i.applyFromCharCode=d;var y={};y.string={string:g,array:function(u){return p(u,new Array(u.length))},arraybuffer:function(u){return y.string.uint8array(u).buffer},uint8array:function(u){return p(u,new Uint8Array(u.length))},nodebuffer:function(u){return p(u,o.allocBuffer(u.length))}},y.array={string:d,array:g,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return o.newBufferFrom(u)}},y.arraybuffer={string:function(u){return d(new Uint8Array(u))},array:function(u){return h(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:g,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return o.newBufferFrom(new Uint8Array(u))}},y.uint8array={string:d,array:function(u){return h(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:g,nodebuffer:function(u){return o.newBufferFrom(u)}},y.nodebuffer={string:d,array:function(u){return h(u,new Array(u.length))},arraybuffer:function(u){return y.nodebuffer.uint8array(u).buffer},uint8array:function(u){return h(u,new Uint8Array(u.length))},nodebuffer:g},i.transformTo=function(u,b){if(b=b||"",!u)return b;i.checkSupport(u);var v=i.getTypeOf(b);return y[v][u](b)},i.resolve=function(u){for(var b=u.split("/"),v=[],w=0;w<b.length;w++){var x=b[w];x==="."||x===""&&w!==0&&w!==b.length-1||(x===".."?v.pop():v.push(x))}return v.join("/")},i.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(u)?"nodebuffer":a.uint8array&&u instanceof Uint8Array?"uint8array":a.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(u){if(!a[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(u){var b,v,w="";for(v=0;v<(u||"").length;v++)w+="\\x"+((b=u.charCodeAt(v))<16?"0":"")+b.toString(16).toUpperCase();return w},i.delay=function(u,b,v){setImmediate(function(){u.apply(v||null,b||[])})},i.inherits=function(u,b){function v(){}v.prototype=b.prototype,u.prototype=new v},i.extend=function(){var u,b,v={};for(u=0;u<arguments.length;u++)for(b in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],b)&&v[b]===void 0&&(v[b]=arguments[u][b]);return v},i.prepareContent=function(u,b,v,w,x){return l.Promise.resolve(b).then(function(E){return a.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,B){var L=new FileReader;L.onload=function(O){S(O.target.result)},L.onerror=function(O){B(O.target.error)},L.readAsArrayBuffer(E)}):E}).then(function(E){var S=i.getTypeOf(E);return S?(S==="arraybuffer"?E=i.transformTo("uint8array",E):S==="string"&&(x?E=s.decode(E):v&&w!==!0&&(E=function(B){return p(B,a.uint8array?new Uint8Array(B.length):new Array(B.length))}(E))),E):l.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),l=n("./zipEntry"),g=n("./support");function p(f){this.files=[],this.loadOptions=f}p.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(d)+", expected "+s.pretty(f)+")")}},isSignature:function(f,d){var h=this.reader.index;this.reader.setIndex(f);var y=this.reader.readString(4)===d;return this.reader.setIndex(h),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),d=g.uint8array?"uint8array":"array",h=s.transformTo(d,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,d,h,y=this.zip64EndOfCentralSize-44;0<y;)f=this.reader.readInt(2),d=this.reader.readInt(4),h=this.reader.readData(d),this.zip64ExtensibleData[f]={id:f,length:d,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,d;for(f=0;f<this.files.length;f++)d=this.files[f],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var d=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var y=d-h;if(0<y)this.isSignature(d,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),g=n("./utf8"),p=n("./compressions"),f=n("./support");function d(h,y){this.options=h,this.loadOptions=y}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var y,u;if(h.skip(22),this.fileNameLength=h.readInt(2),u=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(b){for(var v in p)if(Object.prototype.hasOwnProperty.call(p,v)&&p[v].magic===b)return p[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var y=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(y),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var y,u,b,v=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<v;)y=h.readInt(2),u=h.readInt(2),b=h.readData(u),this.extraFields[y]={id:y,length:u,value:b};h.setIndex(v)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var u=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var v=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var y=a(h.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:g.utf8decode(y.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var y=a(h.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:g.utf8decode(y.readData(h.length-5))}return null}},r.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(y,u,b){this.name=y,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=u,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),g=n("./compressedObject"),p=n("./stream/GenericWorker");a.prototype={internalStream:function(y){var u=null,b="string";try{if(!y)throw new Error("No output type specified.");var v=(b=y.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),u=this._decompressWorker();var w=!this._dataBinary;w&&!v&&(u=u.pipe(new l.Utf8EncodeWorker)),!w&&v&&(u=u.pipe(new l.Utf8DecodeWorker))}catch(x){(u=new p("error")).error(x)}return new s(u,b,"")},async:function(y,u){return this.internalStream(y).accumulate(u)},nodeStream:function(y,u){return this.internalStream(y||"nodebuffer").toNodejsStream(u)},_compressWorker:function(y,u){if(this._data instanceof g&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),g.createWorkerFrom(b,y,u)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof p?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)a.prototype[f[h]]=d;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var g=0,p=new l(y),f=a.document.createTextNode("");p.observe(f,{characterData:!0}),s=function(){f.data=g=++g%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var u=a.document.createElement("script");u.onreadystatechange=function(){y(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},a.document.documentElement.appendChild(u)}:function(){setTimeout(y,0)};else{var d=new a.MessageChannel;d.port1.onmessage=y,s=function(){d.port2.postMessage(0)}}var h=[];function y(){var u,b;o=!0;for(var v=h.length;v;){for(b=h,h=[],u=-1;++u<v;)b[u]();v=h.length}o=!1}r.exports=function(u){h.push(u)!==1||o||s()}}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function s(){}var o={},l=["REJECTED"],g=["FULFILLED"],p=["PENDING"];function f(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,v!==s&&u(this,v)}function d(v,w,x){this.promise=v,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function h(v,w,x){a(function(){var E;try{E=w(x)}catch(S){return o.reject(v,S)}E===v?o.reject(v,new TypeError("Cannot resolve promise with itself")):o.resolve(v,E)})}function y(v){var w=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof w=="function")return function(){w.apply(v,arguments)}}function u(v,w){var x=!1;function E(L){x||(x=!0,o.reject(v,L))}function S(L){x||(x=!0,o.resolve(v,L))}var B=b(function(){w(S,E)});B.status==="error"&&E(B.value)}function b(v,w){var x={};try{x.value=v(w),x.status="success"}catch(E){x.status="error",x.value=E}return x}(r.exports=f).prototype.finally=function(v){if(typeof v!="function")return this;var w=this.constructor;return this.then(function(x){return w.resolve(v()).then(function(){return x})},function(x){return w.resolve(v()).then(function(){throw x})})},f.prototype.catch=function(v){return this.then(null,v)},f.prototype.then=function(v,w){if(typeof v!="function"&&this.state===g||typeof w!="function"&&this.state===l)return this;var x=new this.constructor(s);return this.state!==p?h(x,this.state===g?v:w,this.outcome):this.queue.push(new d(x,v,w)),x},d.prototype.callFulfilled=function(v){o.resolve(this.promise,v)},d.prototype.otherCallFulfilled=function(v){h(this.promise,this.onFulfilled,v)},d.prototype.callRejected=function(v){o.reject(this.promise,v)},d.prototype.otherCallRejected=function(v){h(this.promise,this.onRejected,v)},o.resolve=function(v,w){var x=b(y,w);if(x.status==="error")return o.reject(v,x.value);var E=x.value;if(E)u(v,E);else{v.state=g,v.outcome=w;for(var S=-1,B=v.queue.length;++S<B;)v.queue[S].callFulfilled(w)}return v},o.reject=function(v,w){v.state=l,v.outcome=w;for(var x=-1,E=v.queue.length;++x<E;)v.queue[x].callRejected(w);return v},f.resolve=function(v){return v instanceof this?v:o.resolve(new this(s),v)},f.reject=function(v){var w=new this(s);return o.reject(w,v)},f.all=function(v){var w=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,E=!1;if(!x)return this.resolve([]);for(var S=new Array(x),B=0,L=-1,O=new this(s);++L<x;)I(v[L],L);return O;function I(j,Y){w.resolve(j).then(function(A){S[Y]=A,++B!==x||E||(E=!0,o.resolve(O,S))},function(A){E||(E=!0,o.reject(O,A))})}},f.race=function(v){var w=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,E=!1;if(!x)return this.resolve([]);for(var S=-1,B=new this(s);++S<x;)L=v[S],w.resolve(L).then(function(O){E||(E=!0,o.resolve(B,O))},function(O){E||(E=!0,o.reject(B,O))});var L;return B}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),g=n("./zlib/zstream"),p=Object.prototype.toString,f=0,d=-1,h=0,y=8;function u(v){if(!(this instanceof u))return new u(v);this.options=s.assign({level:d,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},v||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(x!==f)throw new Error(l[x]);if(w.header&&a.deflateSetHeader(this.strm,w.header),w.dictionary){var E;if(E=typeof w.dictionary=="string"?o.string2buf(w.dictionary):p.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(x=a.deflateSetDictionary(this.strm,E))!==f)throw new Error(l[x]);this._dict_set=!0}}function b(v,w){var x=new u(w);if(x.push(v,!0),x.err)throw x.msg||l[x.err];return x.result}u.prototype.push=function(v,w){var x,E,S=this.strm,B=this.options.chunkSize;if(this.ended)return!1;E=w===~~w?w:w===!0?4:0,typeof v=="string"?S.input=o.string2buf(v):p.call(v)==="[object ArrayBuffer]"?S.input=new Uint8Array(v):S.input=v,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new s.Buf8(B),S.next_out=0,S.avail_out=B),(x=a.deflate(S,E))!==1&&x!==f)return this.onEnd(x),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(S.output,S.next_out))):this.onData(s.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&x!==1);return E===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===f):E!==2||(this.onEnd(f),!(S.avail_out=0))},u.prototype.onData=function(v){this.chunks.push(v)},u.prototype.onEnd=function(v){v===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=u,i.deflate=b,i.deflateRaw=function(v,w){return(w=w||{}).raw=!0,b(v,w)},i.gzip=function(v,w){return(w=w||{}).gzip=!0,b(v,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),g=n("./zlib/messages"),p=n("./zlib/zstream"),f=n("./zlib/gzheader"),d=Object.prototype.toString;function h(u){if(!(this instanceof h))return new h(u);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},u||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||u&&u.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,b.windowBits);if(v!==l.Z_OK)throw new Error(g[v]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function y(u,b){var v=new h(b);if(v.push(u,!0),v.err)throw v.msg||g[v.err];return v.result}h.prototype.push=function(u,b){var v,w,x,E,S,B,L=this.strm,O=this.options.chunkSize,I=this.options.dictionary,j=!1;if(this.ended)return!1;w=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof u=="string"?L.input=o.binstring2buf(u):d.call(u)==="[object ArrayBuffer]"?L.input=new Uint8Array(u):L.input=u,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new s.Buf8(O),L.next_out=0,L.avail_out=O),(v=a.inflate(L,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(B=typeof I=="string"?o.string2buf(I):d.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,v=a.inflateSetDictionary(this.strm,B)),v===l.Z_BUF_ERROR&&j===!0&&(v=l.Z_OK,j=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&v!==l.Z_STREAM_END&&(L.avail_in!==0||w!==l.Z_FINISH&&w!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(L.output,L.next_out),E=L.next_out-x,S=o.buf2string(L.output,x),L.next_out=E,L.avail_out=O-E,E&&s.arraySet(L.output,L.output,x,E,0),this.onData(S)):this.onData(s.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(j=!0)}while((0<L.avail_in||L.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(w=l.Z_FINISH),w===l.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):w!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(L.avail_out=0))},h.prototype.onData=function(u){this.chunks.push(u)},h.prototype.onEnd=function(u){u===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},i.Inflate=h,i.inflate=y,i.inflateRaw=function(u,b){return(b=b||{}).raw=!0,y(u,b)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var p=g.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var f in p)p.hasOwnProperty(f)&&(l[f]=p[f])}}return l},i.shrinkBuf=function(l,g){return l.length===g?l:l.subarray?l.subarray(0,g):(l.length=g,l)};var s={arraySet:function(l,g,p,f,d){if(g.subarray&&l.subarray)l.set(g.subarray(p,p+f),d);else for(var h=0;h<f;h++)l[d+h]=g[p+h]},flattenChunks:function(l){var g,p,f,d,h,y;for(g=f=0,p=l.length;g<p;g++)f+=l[g].length;for(y=new Uint8Array(f),g=d=0,p=l.length;g<p;g++)h=l[g],y.set(h,d),d+=h.length;return y}},o={arraySet:function(l,g,p,f,d){for(var h=0;h<f;h++)l[d+h]=g[p+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),g=0;g<256;g++)l[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function p(f,d){if(d<65537&&(f.subarray&&o||!f.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(f,d));for(var h="",y=0;y<d;y++)h+=String.fromCharCode(f[y]);return h}l[254]=l[254]=1,i.string2buf=function(f){var d,h,y,u,b,v=f.length,w=0;for(u=0;u<v;u++)(64512&(h=f.charCodeAt(u)))==55296&&u+1<v&&(64512&(y=f.charCodeAt(u+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),u++),w+=h<128?1:h<2048?2:h<65536?3:4;for(d=new a.Buf8(w),u=b=0;b<w;u++)(64512&(h=f.charCodeAt(u)))==55296&&u+1<v&&(64512&(y=f.charCodeAt(u+1)))==56320&&(h=65536+(h-55296<<10)+(y-56320),u++),h<128?d[b++]=h:(h<2048?d[b++]=192|h>>>6:(h<65536?d[b++]=224|h>>>12:(d[b++]=240|h>>>18,d[b++]=128|h>>>12&63),d[b++]=128|h>>>6&63),d[b++]=128|63&h);return d},i.buf2binstring=function(f){return p(f,f.length)},i.binstring2buf=function(f){for(var d=new a.Buf8(f.length),h=0,y=d.length;h<y;h++)d[h]=f.charCodeAt(h);return d},i.buf2string=function(f,d){var h,y,u,b,v=d||f.length,w=new Array(2*v);for(h=y=0;h<v;)if((u=f[h++])<128)w[y++]=u;else if(4<(b=l[u]))w[y++]=65533,h+=b-1;else{for(u&=b===2?31:b===3?15:7;1<b&&h<v;)u=u<<6|63&f[h++],b--;1<b?w[y++]=65533:u<65536?w[y++]=u:(u-=65536,w[y++]=55296|u>>10&1023,w[y++]=56320|1023&u)}return p(w,y)},i.utf8border=function(f,d){var h;for((d=d||f.length)>f.length&&(d=f.length),h=d-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?d:h+l[f[h]]>d?h:d}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,s,o,l){for(var g=65535&a|0,p=a>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;p=p+(g=g+s[l++]|0)|0,--f;);g%=65521,p%=65521}return g|p<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var g=0;g<8;g++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();r.exports=function(s,o,l,g){var p=a,f=g+l;s^=-1;for(var d=g;d<f;d++)s=s>>>8^p[255&(s^o[d])];return-1^s}},{}],46:[function(n,r,i){var a,s=n("../utils/common"),o=n("./trees"),l=n("./adler32"),g=n("./crc32"),p=n("./messages"),f=0,d=4,h=0,y=-2,u=-1,b=4,v=2,w=8,x=9,E=286,S=30,B=19,L=2*E+1,O=15,I=3,j=258,Y=j+I+1,A=42,D=113,m=1,$=2,rt=3,N=4;function et(c,F){return c.msg=p[F],F}function U(c){return(c<<1)-(4<c?9:0)}function tt(c){for(var F=c.length;0<=--F;)c[F]=0}function M(c){var F=c.state,P=F.pending;P>c.avail_out&&(P=c.avail_out),P!==0&&(s.arraySet(c.output,F.pending_buf,F.pending_out,P,c.next_out),c.next_out+=P,F.pending_out+=P,c.total_out+=P,c.avail_out-=P,F.pending-=P,F.pending===0&&(F.pending_out=0))}function z(c,F){o._tr_flush_block(c,0<=c.block_start?c.block_start:-1,c.strstart-c.block_start,F),c.block_start=c.strstart,M(c.strm)}function J(c,F){c.pending_buf[c.pending++]=F}function q(c,F){c.pending_buf[c.pending++]=F>>>8&255,c.pending_buf[c.pending++]=255&F}function H(c,F){var P,k,_=c.max_chain_length,C=c.strstart,R=c.prev_length,V=c.nice_match,T=c.strstart>c.w_size-Y?c.strstart-(c.w_size-Y):0,W=c.window,G=c.w_mask,K=c.prev,Q=c.strstart+j,lt=W[C+R-1],at=W[C+R];c.prev_length>=c.good_match&&(_>>=2),V>c.lookahead&&(V=c.lookahead);do if(W[(P=F)+R]===at&&W[P+R-1]===lt&&W[P]===W[C]&&W[++P]===W[C+1]){C+=2,P++;do;while(W[++C]===W[++P]&&W[++C]===W[++P]&&W[++C]===W[++P]&&W[++C]===W[++P]&&W[++C]===W[++P]&&W[++C]===W[++P]&&W[++C]===W[++P]&&W[++C]===W[++P]&&C<Q);if(k=j-(Q-C),C=Q-j,R<k){if(c.match_start=F,V<=(R=k))break;lt=W[C+R-1],at=W[C+R]}}while((F=K[F&G])>T&&--_!=0);return R<=c.lookahead?R:c.lookahead}function ot(c){var F,P,k,_,C,R,V,T,W,G,K=c.w_size;do{if(_=c.window_size-c.lookahead-c.strstart,c.strstart>=K+(K-Y)){for(s.arraySet(c.window,c.window,K,K,0),c.match_start-=K,c.strstart-=K,c.block_start-=K,F=P=c.hash_size;k=c.head[--F],c.head[F]=K<=k?k-K:0,--P;);for(F=P=K;k=c.prev[--F],c.prev[F]=K<=k?k-K:0,--P;);_+=K}if(c.strm.avail_in===0)break;if(R=c.strm,V=c.window,T=c.strstart+c.lookahead,W=_,G=void 0,G=R.avail_in,W<G&&(G=W),P=G===0?0:(R.avail_in-=G,s.arraySet(V,R.input,R.next_in,G,T),R.state.wrap===1?R.adler=l(R.adler,V,G,T):R.state.wrap===2&&(R.adler=g(R.adler,V,G,T)),R.next_in+=G,R.total_in+=G,G),c.lookahead+=P,c.lookahead+c.insert>=I)for(C=c.strstart-c.insert,c.ins_h=c.window[C],c.ins_h=(c.ins_h<<c.hash_shift^c.window[C+1])&c.hash_mask;c.insert&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[C+I-1])&c.hash_mask,c.prev[C&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=C,C++,c.insert--,!(c.lookahead+c.insert<I)););}while(c.lookahead<Y&&c.strm.avail_in!==0)}function dt(c,F){for(var P,k;;){if(c.lookahead<Y){if(ot(c),c.lookahead<Y&&F===f)return m;if(c.lookahead===0)break}if(P=0,c.lookahead>=I&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+I-1])&c.hash_mask,P=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),P!==0&&c.strstart-P<=c.w_size-Y&&(c.match_length=H(c,P)),c.match_length>=I)if(k=o._tr_tally(c,c.strstart-c.match_start,c.match_length-I),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&c.lookahead>=I){for(c.match_length--;c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+I-1])&c.hash_mask,P=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart,--c.match_length!=0;);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else k=o._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(k&&(z(c,!1),c.strm.avail_out===0))return m}return c.insert=c.strstart<I-1?c.strstart:I-1,F===d?(z(c,!0),c.strm.avail_out===0?rt:N):c.last_lit&&(z(c,!1),c.strm.avail_out===0)?m:$}function it(c,F){for(var P,k,_;;){if(c.lookahead<Y){if(ot(c),c.lookahead<Y&&F===f)return m;if(c.lookahead===0)break}if(P=0,c.lookahead>=I&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+I-1])&c.hash_mask,P=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),c.prev_length=c.match_length,c.prev_match=c.match_start,c.match_length=I-1,P!==0&&c.prev_length<c.max_lazy_match&&c.strstart-P<=c.w_size-Y&&(c.match_length=H(c,P),c.match_length<=5&&(c.strategy===1||c.match_length===I&&4096<c.strstart-c.match_start)&&(c.match_length=I-1)),c.prev_length>=I&&c.match_length<=c.prev_length){for(_=c.strstart+c.lookahead-I,k=o._tr_tally(c,c.strstart-1-c.prev_match,c.prev_length-I),c.lookahead-=c.prev_length-1,c.prev_length-=2;++c.strstart<=_&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+I-1])&c.hash_mask,P=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),--c.prev_length!=0;);if(c.match_available=0,c.match_length=I-1,c.strstart++,k&&(z(c,!1),c.strm.avail_out===0))return m}else if(c.match_available){if((k=o._tr_tally(c,0,c.window[c.strstart-1]))&&z(c,!1),c.strstart++,c.lookahead--,c.strm.avail_out===0)return m}else c.match_available=1,c.strstart++,c.lookahead--}return c.match_available&&(k=o._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0),c.insert=c.strstart<I-1?c.strstart:I-1,F===d?(z(c,!0),c.strm.avail_out===0?rt:N):c.last_lit&&(z(c,!1),c.strm.avail_out===0)?m:$}function st(c,F,P,k,_){this.good_length=c,this.max_lazy=F,this.nice_length=P,this.max_chain=k,this.func=_}function gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*L),this.dyn_dtree=new s.Buf16(2*(2*S+1)),this.bl_tree=new s.Buf16(2*(2*B+1)),tt(this.dyn_ltree),tt(this.dyn_dtree),tt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(O+1),this.heap=new s.Buf16(2*E+1),tt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*E+1),tt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ht(c){var F;return c&&c.state?(c.total_in=c.total_out=0,c.data_type=v,(F=c.state).pending=0,F.pending_out=0,F.wrap<0&&(F.wrap=-F.wrap),F.status=F.wrap?A:D,c.adler=F.wrap===2?0:1,F.last_flush=f,o._tr_init(F),h):et(c,y)}function St(c){var F=ht(c);return F===h&&function(P){P.window_size=2*P.w_size,tt(P.head),P.max_lazy_match=a[P.level].max_lazy,P.good_match=a[P.level].good_length,P.nice_match=a[P.level].nice_length,P.max_chain_length=a[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=I-1,P.match_available=0,P.ins_h=0}(c.state),F}function kt(c,F,P,k,_,C){if(!c)return y;var R=1;if(F===u&&(F=6),k<0?(R=0,k=-k):15<k&&(R=2,k-=16),_<1||x<_||P!==w||k<8||15<k||F<0||9<F||C<0||b<C)return et(c,y);k===8&&(k=9);var V=new gt;return(c.state=V).strm=c,V.wrap=R,V.gzhead=null,V.w_bits=k,V.w_size=1<<V.w_bits,V.w_mask=V.w_size-1,V.hash_bits=_+7,V.hash_size=1<<V.hash_bits,V.hash_mask=V.hash_size-1,V.hash_shift=~~((V.hash_bits+I-1)/I),V.window=new s.Buf8(2*V.w_size),V.head=new s.Buf16(V.hash_size),V.prev=new s.Buf16(V.w_size),V.lit_bufsize=1<<_+6,V.pending_buf_size=4*V.lit_bufsize,V.pending_buf=new s.Buf8(V.pending_buf_size),V.d_buf=1*V.lit_bufsize,V.l_buf=3*V.lit_bufsize,V.level=F,V.strategy=C,V.method=P,St(c)}a=[new st(0,0,0,0,function(c,F){var P=65535;for(P>c.pending_buf_size-5&&(P=c.pending_buf_size-5);;){if(c.lookahead<=1){if(ot(c),c.lookahead===0&&F===f)return m;if(c.lookahead===0)break}c.strstart+=c.lookahead,c.lookahead=0;var k=c.block_start+P;if((c.strstart===0||c.strstart>=k)&&(c.lookahead=c.strstart-k,c.strstart=k,z(c,!1),c.strm.avail_out===0)||c.strstart-c.block_start>=c.w_size-Y&&(z(c,!1),c.strm.avail_out===0))return m}return c.insert=0,F===d?(z(c,!0),c.strm.avail_out===0?rt:N):(c.strstart>c.block_start&&(z(c,!1),c.strm.avail_out),m)}),new st(4,4,8,4,dt),new st(4,5,16,8,dt),new st(4,6,32,32,dt),new st(4,4,16,16,it),new st(8,16,32,32,it),new st(8,16,128,128,it),new st(8,32,128,256,it),new st(32,128,258,1024,it),new st(32,258,258,4096,it)],i.deflateInit=function(c,F){return kt(c,F,w,15,8,0)},i.deflateInit2=kt,i.deflateReset=St,i.deflateResetKeep=ht,i.deflateSetHeader=function(c,F){return c&&c.state?c.state.wrap!==2?y:(c.state.gzhead=F,h):y},i.deflate=function(c,F){var P,k,_,C;if(!c||!c.state||5<F||F<0)return c?et(c,y):y;if(k=c.state,!c.output||!c.input&&c.avail_in!==0||k.status===666&&F!==d)return et(c,c.avail_out===0?-5:y);if(k.strm=c,P=k.last_flush,k.last_flush=F,k.status===A)if(k.wrap===2)c.adler=0,J(k,31),J(k,139),J(k,8),k.gzhead?(J(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),J(k,255&k.gzhead.time),J(k,k.gzhead.time>>8&255),J(k,k.gzhead.time>>16&255),J(k,k.gzhead.time>>24&255),J(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),J(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(J(k,255&k.gzhead.extra.length),J(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(c.adler=g(c.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(J(k,0),J(k,0),J(k,0),J(k,0),J(k,0),J(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),J(k,3),k.status=D);else{var R=w+(k.w_bits-8<<4)<<8;R|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(R|=32),R+=31-R%31,k.status=D,q(k,R),k.strstart!==0&&(q(k,c.adler>>>16),q(k,65535&c.adler)),c.adler=1}if(k.status===69)if(k.gzhead.extra){for(_=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>_&&(c.adler=g(c.adler,k.pending_buf,k.pending-_,_)),M(c),_=k.pending,k.pending!==k.pending_buf_size));)J(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>_&&(c.adler=g(c.adler,k.pending_buf,k.pending-_,_)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){_=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>_&&(c.adler=g(c.adler,k.pending_buf,k.pending-_,_)),M(c),_=k.pending,k.pending===k.pending_buf_size)){C=1;break}C=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,J(k,C)}while(C!==0);k.gzhead.hcrc&&k.pending>_&&(c.adler=g(c.adler,k.pending_buf,k.pending-_,_)),C===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){_=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>_&&(c.adler=g(c.adler,k.pending_buf,k.pending-_,_)),M(c),_=k.pending,k.pending===k.pending_buf_size)){C=1;break}C=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,J(k,C)}while(C!==0);k.gzhead.hcrc&&k.pending>_&&(c.adler=g(c.adler,k.pending_buf,k.pending-_,_)),C===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&M(c),k.pending+2<=k.pending_buf_size&&(J(k,255&c.adler),J(k,c.adler>>8&255),c.adler=0,k.status=D)):k.status=D),k.pending!==0){if(M(c),c.avail_out===0)return k.last_flush=-1,h}else if(c.avail_in===0&&U(F)<=U(P)&&F!==d)return et(c,-5);if(k.status===666&&c.avail_in!==0)return et(c,-5);if(c.avail_in!==0||k.lookahead!==0||F!==f&&k.status!==666){var V=k.strategy===2?function(T,W){for(var G;;){if(T.lookahead===0&&(ot(T),T.lookahead===0)){if(W===f)return m;break}if(T.match_length=0,G=o._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++,G&&(z(T,!1),T.strm.avail_out===0))return m}return T.insert=0,W===d?(z(T,!0),T.strm.avail_out===0?rt:N):T.last_lit&&(z(T,!1),T.strm.avail_out===0)?m:$}(k,F):k.strategy===3?function(T,W){for(var G,K,Q,lt,at=T.window;;){if(T.lookahead<=j){if(ot(T),T.lookahead<=j&&W===f)return m;if(T.lookahead===0)break}if(T.match_length=0,T.lookahead>=I&&0<T.strstart&&(K=at[Q=T.strstart-1])===at[++Q]&&K===at[++Q]&&K===at[++Q]){lt=T.strstart+j;do;while(K===at[++Q]&&K===at[++Q]&&K===at[++Q]&&K===at[++Q]&&K===at[++Q]&&K===at[++Q]&&K===at[++Q]&&K===at[++Q]&&Q<lt);T.match_length=j-(lt-Q),T.match_length>T.lookahead&&(T.match_length=T.lookahead)}if(T.match_length>=I?(G=o._tr_tally(T,1,T.match_length-I),T.lookahead-=T.match_length,T.strstart+=T.match_length,T.match_length=0):(G=o._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++),G&&(z(T,!1),T.strm.avail_out===0))return m}return T.insert=0,W===d?(z(T,!0),T.strm.avail_out===0?rt:N):T.last_lit&&(z(T,!1),T.strm.avail_out===0)?m:$}(k,F):a[k.level].func(k,F);if(V!==rt&&V!==N||(k.status=666),V===m||V===rt)return c.avail_out===0&&(k.last_flush=-1),h;if(V===$&&(F===1?o._tr_align(k):F!==5&&(o._tr_stored_block(k,0,0,!1),F===3&&(tt(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),M(c),c.avail_out===0))return k.last_flush=-1,h}return F!==d?h:k.wrap<=0?1:(k.wrap===2?(J(k,255&c.adler),J(k,c.adler>>8&255),J(k,c.adler>>16&255),J(k,c.adler>>24&255),J(k,255&c.total_in),J(k,c.total_in>>8&255),J(k,c.total_in>>16&255),J(k,c.total_in>>24&255)):(q(k,c.adler>>>16),q(k,65535&c.adler)),M(c),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?h:1)},i.deflateEnd=function(c){var F;return c&&c.state?(F=c.state.status)!==A&&F!==69&&F!==73&&F!==91&&F!==103&&F!==D&&F!==666?et(c,y):(c.state=null,F===D?et(c,-3):h):y},i.deflateSetDictionary=function(c,F){var P,k,_,C,R,V,T,W,G=F.length;if(!c||!c.state||(C=(P=c.state).wrap)===2||C===1&&P.status!==A||P.lookahead)return y;for(C===1&&(c.adler=l(c.adler,F,G,0)),P.wrap=0,G>=P.w_size&&(C===0&&(tt(P.head),P.strstart=0,P.block_start=0,P.insert=0),W=new s.Buf8(P.w_size),s.arraySet(W,F,G-P.w_size,P.w_size,0),F=W,G=P.w_size),R=c.avail_in,V=c.next_in,T=c.input,c.avail_in=G,c.next_in=0,c.input=F,ot(P);P.lookahead>=I;){for(k=P.strstart,_=P.lookahead-(I-1);P.ins_h=(P.ins_h<<P.hash_shift^P.window[k+I-1])&P.hash_mask,P.prev[k&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=k,k++,--_;);P.strstart=k,P.lookahead=I-1,ot(P)}return P.strstart+=P.lookahead,P.block_start=P.strstart,P.insert=P.lookahead,P.lookahead=0,P.match_length=P.prev_length=I-1,P.match_available=0,c.next_in=V,c.input=T,c.avail_in=R,P.wrap=C,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,s){var o,l,g,p,f,d,h,y,u,b,v,w,x,E,S,B,L,O,I,j,Y,A,D,m,$;o=a.state,l=a.next_in,m=a.input,g=l+(a.avail_in-5),p=a.next_out,$=a.output,f=p-(s-a.avail_out),d=p+(a.avail_out-257),h=o.dmax,y=o.wsize,u=o.whave,b=o.wnext,v=o.window,w=o.hold,x=o.bits,E=o.lencode,S=o.distcode,B=(1<<o.lenbits)-1,L=(1<<o.distbits)-1;t:do{x<15&&(w+=m[l++]<<x,x+=8,w+=m[l++]<<x,x+=8),O=E[w&B];e:for(;;){if(w>>>=I=O>>>24,x-=I,(I=O>>>16&255)===0)$[p++]=65535&O;else{if(!(16&I)){if(!(64&I)){O=E[(65535&O)+(w&(1<<I)-1)];continue e}if(32&I){o.mode=12;break t}a.msg="invalid literal/length code",o.mode=30;break t}j=65535&O,(I&=15)&&(x<I&&(w+=m[l++]<<x,x+=8),j+=w&(1<<I)-1,w>>>=I,x-=I),x<15&&(w+=m[l++]<<x,x+=8,w+=m[l++]<<x,x+=8),O=S[w&L];n:for(;;){if(w>>>=I=O>>>24,x-=I,!(16&(I=O>>>16&255))){if(!(64&I)){O=S[(65535&O)+(w&(1<<I)-1)];continue n}a.msg="invalid distance code",o.mode=30;break t}if(Y=65535&O,x<(I&=15)&&(w+=m[l++]<<x,(x+=8)<I&&(w+=m[l++]<<x,x+=8)),h<(Y+=w&(1<<I)-1)){a.msg="invalid distance too far back",o.mode=30;break t}if(w>>>=I,x-=I,(I=p-f)<Y){if(u<(I=Y-I)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break t}if(D=v,(A=0)===b){if(A+=y-I,I<j){for(j-=I;$[p++]=v[A++],--I;);A=p-Y,D=$}}else if(b<I){if(A+=y+b-I,(I-=b)<j){for(j-=I;$[p++]=v[A++],--I;);if(A=0,b<j){for(j-=I=b;$[p++]=v[A++],--I;);A=p-Y,D=$}}}else if(A+=b-I,I<j){for(j-=I;$[p++]=v[A++],--I;);A=p-Y,D=$}for(;2<j;)$[p++]=D[A++],$[p++]=D[A++],$[p++]=D[A++],j-=3;j&&($[p++]=D[A++],1<j&&($[p++]=D[A++]))}else{for(A=p-Y;$[p++]=$[A++],$[p++]=$[A++],$[p++]=$[A++],2<(j-=3););j&&($[p++]=$[A++],1<j&&($[p++]=$[A++]))}break}}break}}while(l<g&&p<d);l-=j=x>>3,w&=(1<<(x-=j<<3))-1,a.next_in=l,a.next_out=p,a.avail_in=l<g?g-l+5:5-(l-g),a.avail_out=p<d?d-p+257:257-(p-d),o.hold=w,o.bits=x}},{}],49:[function(n,r,i){var a=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),l=n("./inffast"),g=n("./inftrees"),p=1,f=2,d=0,h=-2,y=1,u=852,b=592;function v(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(A){var D;return A&&A.state?(D=A.state,A.total_in=A.total_out=D.total=0,A.msg="",D.wrap&&(A.adler=1&D.wrap),D.mode=y,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new a.Buf32(u),D.distcode=D.distdyn=new a.Buf32(b),D.sane=1,D.back=-1,d):h}function E(A){var D;return A&&A.state?((D=A.state).wsize=0,D.whave=0,D.wnext=0,x(A)):h}function S(A,D){var m,$;return A&&A.state?($=A.state,D<0?(m=0,D=-D):(m=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?h:($.window!==null&&$.wbits!==D&&($.window=null),$.wrap=m,$.wbits=D,E(A))):h}function B(A,D){var m,$;return A?($=new w,(A.state=$).window=null,(m=S(A,D))!==d&&(A.state=null),m):h}var L,O,I=!0;function j(A){if(I){var D;for(L=new a.Buf32(512),O=new a.Buf32(32),D=0;D<144;)A.lens[D++]=8;for(;D<256;)A.lens[D++]=9;for(;D<280;)A.lens[D++]=7;for(;D<288;)A.lens[D++]=8;for(g(p,A.lens,0,288,L,0,A.work,{bits:9}),D=0;D<32;)A.lens[D++]=5;g(f,A.lens,0,32,O,0,A.work,{bits:5}),I=!1}A.lencode=L,A.lenbits=9,A.distcode=O,A.distbits=5}function Y(A,D,m,$){var rt,N=A.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new a.Buf8(N.wsize)),$>=N.wsize?(a.arraySet(N.window,D,m-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):($<(rt=N.wsize-N.wnext)&&(rt=$),a.arraySet(N.window,D,m-$,rt,N.wnext),($-=rt)?(a.arraySet(N.window,D,m-$,$,0),N.wnext=$,N.whave=N.wsize):(N.wnext+=rt,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=rt))),0}i.inflateReset=E,i.inflateReset2=S,i.inflateResetKeep=x,i.inflateInit=function(A){return B(A,15)},i.inflateInit2=B,i.inflate=function(A,D){var m,$,rt,N,et,U,tt,M,z,J,q,H,ot,dt,it,st,gt,ht,St,kt,c,F,P,k,_=0,C=new a.Buf8(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return h;(m=A.state).mode===12&&(m.mode=13),et=A.next_out,rt=A.output,tt=A.avail_out,N=A.next_in,$=A.input,U=A.avail_in,M=m.hold,z=m.bits,J=U,q=tt,F=d;t:for(;;)switch(m.mode){case y:if(m.wrap===0){m.mode=13;break}for(;z<16;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}if(2&m.wrap&&M===35615){C[m.check=0]=255&M,C[1]=M>>>8&255,m.check=o(m.check,C,2,0),z=M=0,m.mode=2;break}if(m.flags=0,m.head&&(m.head.done=!1),!(1&m.wrap)||(((255&M)<<8)+(M>>8))%31){A.msg="incorrect header check",m.mode=30;break}if((15&M)!=8){A.msg="unknown compression method",m.mode=30;break}if(z-=4,c=8+(15&(M>>>=4)),m.wbits===0)m.wbits=c;else if(c>m.wbits){A.msg="invalid window size",m.mode=30;break}m.dmax=1<<c,A.adler=m.check=1,m.mode=512&M?10:12,z=M=0;break;case 2:for(;z<16;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}if(m.flags=M,(255&m.flags)!=8){A.msg="unknown compression method",m.mode=30;break}if(57344&m.flags){A.msg="unknown header flags set",m.mode=30;break}m.head&&(m.head.text=M>>8&1),512&m.flags&&(C[0]=255&M,C[1]=M>>>8&255,m.check=o(m.check,C,2,0)),z=M=0,m.mode=3;case 3:for(;z<32;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}m.head&&(m.head.time=M),512&m.flags&&(C[0]=255&M,C[1]=M>>>8&255,C[2]=M>>>16&255,C[3]=M>>>24&255,m.check=o(m.check,C,4,0)),z=M=0,m.mode=4;case 4:for(;z<16;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}m.head&&(m.head.xflags=255&M,m.head.os=M>>8),512&m.flags&&(C[0]=255&M,C[1]=M>>>8&255,m.check=o(m.check,C,2,0)),z=M=0,m.mode=5;case 5:if(1024&m.flags){for(;z<16;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}m.length=M,m.head&&(m.head.extra_len=M),512&m.flags&&(C[0]=255&M,C[1]=M>>>8&255,m.check=o(m.check,C,2,0)),z=M=0}else m.head&&(m.head.extra=null);m.mode=6;case 6:if(1024&m.flags&&(U<(H=m.length)&&(H=U),H&&(m.head&&(c=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),a.arraySet(m.head.extra,$,N,H,c)),512&m.flags&&(m.check=o(m.check,$,H,N)),U-=H,N+=H,m.length-=H),m.length))break t;m.length=0,m.mode=7;case 7:if(2048&m.flags){if(U===0)break t;for(H=0;c=$[N+H++],m.head&&c&&m.length<65536&&(m.head.name+=String.fromCharCode(c)),c&&H<U;);if(512&m.flags&&(m.check=o(m.check,$,H,N)),U-=H,N+=H,c)break t}else m.head&&(m.head.name=null);m.length=0,m.mode=8;case 8:if(4096&m.flags){if(U===0)break t;for(H=0;c=$[N+H++],m.head&&c&&m.length<65536&&(m.head.comment+=String.fromCharCode(c)),c&&H<U;);if(512&m.flags&&(m.check=o(m.check,$,H,N)),U-=H,N+=H,c)break t}else m.head&&(m.head.comment=null);m.mode=9;case 9:if(512&m.flags){for(;z<16;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}if(M!==(65535&m.check)){A.msg="header crc mismatch",m.mode=30;break}z=M=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),A.adler=m.check=0,m.mode=12;break;case 10:for(;z<32;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}A.adler=m.check=v(M),z=M=0,m.mode=11;case 11:if(m.havedict===0)return A.next_out=et,A.avail_out=tt,A.next_in=N,A.avail_in=U,m.hold=M,m.bits=z,2;A.adler=m.check=1,m.mode=12;case 12:if(D===5||D===6)break t;case 13:if(m.last){M>>>=7&z,z-=7&z,m.mode=27;break}for(;z<3;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}switch(m.last=1&M,z-=1,3&(M>>>=1)){case 0:m.mode=14;break;case 1:if(j(m),m.mode=20,D!==6)break;M>>>=2,z-=2;break t;case 2:m.mode=17;break;case 3:A.msg="invalid block type",m.mode=30}M>>>=2,z-=2;break;case 14:for(M>>>=7&z,z-=7&z;z<32;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}if((65535&M)!=(M>>>16^65535)){A.msg="invalid stored block lengths",m.mode=30;break}if(m.length=65535&M,z=M=0,m.mode=15,D===6)break t;case 15:m.mode=16;case 16:if(H=m.length){if(U<H&&(H=U),tt<H&&(H=tt),H===0)break t;a.arraySet(rt,$,N,H,et),U-=H,N+=H,tt-=H,et+=H,m.length-=H;break}m.mode=12;break;case 17:for(;z<14;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}if(m.nlen=257+(31&M),M>>>=5,z-=5,m.ndist=1+(31&M),M>>>=5,z-=5,m.ncode=4+(15&M),M>>>=4,z-=4,286<m.nlen||30<m.ndist){A.msg="too many length or distance symbols",m.mode=30;break}m.have=0,m.mode=18;case 18:for(;m.have<m.ncode;){for(;z<3;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}m.lens[R[m.have++]]=7&M,M>>>=3,z-=3}for(;m.have<19;)m.lens[R[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,P={bits:m.lenbits},F=g(0,m.lens,0,19,m.lencode,0,m.work,P),m.lenbits=P.bits,F){A.msg="invalid code lengths set",m.mode=30;break}m.have=0,m.mode=19;case 19:for(;m.have<m.nlen+m.ndist;){for(;st=(_=m.lencode[M&(1<<m.lenbits)-1])>>>16&255,gt=65535&_,!((it=_>>>24)<=z);){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}if(gt<16)M>>>=it,z-=it,m.lens[m.have++]=gt;else{if(gt===16){for(k=it+2;z<k;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}if(M>>>=it,z-=it,m.have===0){A.msg="invalid bit length repeat",m.mode=30;break}c=m.lens[m.have-1],H=3+(3&M),M>>>=2,z-=2}else if(gt===17){for(k=it+3;z<k;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}z-=it,c=0,H=3+(7&(M>>>=it)),M>>>=3,z-=3}else{for(k=it+7;z<k;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}z-=it,c=0,H=11+(127&(M>>>=it)),M>>>=7,z-=7}if(m.have+H>m.nlen+m.ndist){A.msg="invalid bit length repeat",m.mode=30;break}for(;H--;)m.lens[m.have++]=c}}if(m.mode===30)break;if(m.lens[256]===0){A.msg="invalid code -- missing end-of-block",m.mode=30;break}if(m.lenbits=9,P={bits:m.lenbits},F=g(p,m.lens,0,m.nlen,m.lencode,0,m.work,P),m.lenbits=P.bits,F){A.msg="invalid literal/lengths set",m.mode=30;break}if(m.distbits=6,m.distcode=m.distdyn,P={bits:m.distbits},F=g(f,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,P),m.distbits=P.bits,F){A.msg="invalid distances set",m.mode=30;break}if(m.mode=20,D===6)break t;case 20:m.mode=21;case 21:if(6<=U&&258<=tt){A.next_out=et,A.avail_out=tt,A.next_in=N,A.avail_in=U,m.hold=M,m.bits=z,l(A,q),et=A.next_out,rt=A.output,tt=A.avail_out,N=A.next_in,$=A.input,U=A.avail_in,M=m.hold,z=m.bits,m.mode===12&&(m.back=-1);break}for(m.back=0;st=(_=m.lencode[M&(1<<m.lenbits)-1])>>>16&255,gt=65535&_,!((it=_>>>24)<=z);){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}if(st&&!(240&st)){for(ht=it,St=st,kt=gt;st=(_=m.lencode[kt+((M&(1<<ht+St)-1)>>ht)])>>>16&255,gt=65535&_,!(ht+(it=_>>>24)<=z);){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}M>>>=ht,z-=ht,m.back+=ht}if(M>>>=it,z-=it,m.back+=it,m.length=gt,st===0){m.mode=26;break}if(32&st){m.back=-1,m.mode=12;break}if(64&st){A.msg="invalid literal/length code",m.mode=30;break}m.extra=15&st,m.mode=22;case 22:if(m.extra){for(k=m.extra;z<k;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}m.length+=M&(1<<m.extra)-1,M>>>=m.extra,z-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=23;case 23:for(;st=(_=m.distcode[M&(1<<m.distbits)-1])>>>16&255,gt=65535&_,!((it=_>>>24)<=z);){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}if(!(240&st)){for(ht=it,St=st,kt=gt;st=(_=m.distcode[kt+((M&(1<<ht+St)-1)>>ht)])>>>16&255,gt=65535&_,!(ht+(it=_>>>24)<=z);){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}M>>>=ht,z-=ht,m.back+=ht}if(M>>>=it,z-=it,m.back+=it,64&st){A.msg="invalid distance code",m.mode=30;break}m.offset=gt,m.extra=15&st,m.mode=24;case 24:if(m.extra){for(k=m.extra;z<k;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}m.offset+=M&(1<<m.extra)-1,M>>>=m.extra,z-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){A.msg="invalid distance too far back",m.mode=30;break}m.mode=25;case 25:if(tt===0)break t;if(H=q-tt,m.offset>H){if((H=m.offset-H)>m.whave&&m.sane){A.msg="invalid distance too far back",m.mode=30;break}ot=H>m.wnext?(H-=m.wnext,m.wsize-H):m.wnext-H,H>m.length&&(H=m.length),dt=m.window}else dt=rt,ot=et-m.offset,H=m.length;for(tt<H&&(H=tt),tt-=H,m.length-=H;rt[et++]=dt[ot++],--H;);m.length===0&&(m.mode=21);break;case 26:if(tt===0)break t;rt[et++]=m.length,tt--,m.mode=21;break;case 27:if(m.wrap){for(;z<32;){if(U===0)break t;U--,M|=$[N++]<<z,z+=8}if(q-=tt,A.total_out+=q,m.total+=q,q&&(A.adler=m.check=m.flags?o(m.check,rt,q,et-q):s(m.check,rt,q,et-q)),q=tt,(m.flags?M:v(M))!==m.check){A.msg="incorrect data check",m.mode=30;break}z=M=0}m.mode=28;case 28:if(m.wrap&&m.flags){for(;z<32;){if(U===0)break t;U--,M+=$[N++]<<z,z+=8}if(M!==(4294967295&m.total)){A.msg="incorrect length check",m.mode=30;break}z=M=0}m.mode=29;case 29:F=1;break t;case 30:F=-3;break t;case 31:return-4;case 32:default:return h}return A.next_out=et,A.avail_out=tt,A.next_in=N,A.avail_in=U,m.hold=M,m.bits=z,(m.wsize||q!==A.avail_out&&m.mode<30&&(m.mode<27||D!==4))&&Y(A,A.output,A.next_out,q-A.avail_out)?(m.mode=31,-4):(J-=A.avail_in,q-=A.avail_out,A.total_in+=J,A.total_out+=q,m.total+=q,m.wrap&&q&&(A.adler=m.check=m.flags?o(m.check,rt,q,A.next_out-q):s(m.check,rt,q,A.next_out-q)),A.data_type=m.bits+(m.last?64:0)+(m.mode===12?128:0)+(m.mode===20||m.mode===15?256:0),(J==0&&q===0||D===4)&&F===d&&(F=-5),F)},i.inflateEnd=function(A){if(!A||!A.state)return h;var D=A.state;return D.window&&(D.window=null),A.state=null,d},i.inflateGetHeader=function(A,D){var m;return A&&A.state&&2&(m=A.state).wrap?((m.head=D).done=!1,d):h},i.inflateSetDictionary=function(A,D){var m,$=D.length;return A&&A.state?(m=A.state).wrap!==0&&m.mode!==11?h:m.mode===11&&s(1,D,$,0)!==m.check?-3:Y(A,D,$,$)?(m.mode=31,-4):(m.havedict=1,d):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(p,f,d,h,y,u,b,v){var w,x,E,S,B,L,O,I,j,Y=v.bits,A=0,D=0,m=0,$=0,rt=0,N=0,et=0,U=0,tt=0,M=0,z=null,J=0,q=new a.Buf16(16),H=new a.Buf16(16),ot=null,dt=0;for(A=0;A<=15;A++)q[A]=0;for(D=0;D<h;D++)q[f[d+D]]++;for(rt=Y,$=15;1<=$&&q[$]===0;$--);if($<rt&&(rt=$),$===0)return y[u++]=20971520,y[u++]=20971520,v.bits=1,0;for(m=1;m<$&&q[m]===0;m++);for(rt<m&&(rt=m),A=U=1;A<=15;A++)if(U<<=1,(U-=q[A])<0)return-1;if(0<U&&(p===0||$!==1))return-1;for(H[1]=0,A=1;A<15;A++)H[A+1]=H[A]+q[A];for(D=0;D<h;D++)f[d+D]!==0&&(b[H[f[d+D]]++]=D);if(L=p===0?(z=ot=b,19):p===1?(z=s,J-=257,ot=o,dt-=257,256):(z=l,ot=g,-1),A=m,B=u,et=D=M=0,E=-1,S=(tt=1<<(N=rt))-1,p===1&&852<tt||p===2&&592<tt)return 1;for(;;){for(O=A-et,j=b[D]<L?(I=0,b[D]):b[D]>L?(I=ot[dt+b[D]],z[J+b[D]]):(I=96,0),w=1<<A-et,m=x=1<<N;y[B+(M>>et)+(x-=w)]=O<<24|I<<16|j|0,x!==0;);for(w=1<<A-1;M&w;)w>>=1;if(w!==0?(M&=w-1,M+=w):M=0,D++,--q[A]==0){if(A===$)break;A=f[d+b[D]]}if(rt<A&&(M&S)!==E){for(et===0&&(et=rt),B+=m,U=1<<(N=A-et);N+et<$&&!((U-=q[N+et])<=0);)N++,U<<=1;if(tt+=1<<N,p===1&&852<tt||p===2&&592<tt)return 1;y[E=M&S]=rt<<24|N<<16|B-u|0}}return M!==0&&(y[B+M]=A-et<<24|64<<16|0),v.bits=rt,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),s=0,o=1;function l(_){for(var C=_.length;0<=--C;)_[C]=0}var g=0,p=29,f=256,d=f+1+p,h=30,y=19,u=2*d+1,b=15,v=16,w=7,x=256,E=16,S=17,B=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(d+2));l(Y);var A=new Array(2*h);l(A);var D=new Array(512);l(D);var m=new Array(256);l(m);var $=new Array(p);l($);var rt,N,et,U=new Array(h);function tt(_,C,R,V,T){this.static_tree=_,this.extra_bits=C,this.extra_base=R,this.elems=V,this.max_length=T,this.has_stree=_&&_.length}function M(_,C){this.dyn_tree=_,this.max_code=0,this.stat_desc=C}function z(_){return _<256?D[_]:D[256+(_>>>7)]}function J(_,C){_.pending_buf[_.pending++]=255&C,_.pending_buf[_.pending++]=C>>>8&255}function q(_,C,R){_.bi_valid>v-R?(_.bi_buf|=C<<_.bi_valid&65535,J(_,_.bi_buf),_.bi_buf=C>>v-_.bi_valid,_.bi_valid+=R-v):(_.bi_buf|=C<<_.bi_valid&65535,_.bi_valid+=R)}function H(_,C,R){q(_,R[2*C],R[2*C+1])}function ot(_,C){for(var R=0;R|=1&_,_>>>=1,R<<=1,0<--C;);return R>>>1}function dt(_,C,R){var V,T,W=new Array(b+1),G=0;for(V=1;V<=b;V++)W[V]=G=G+R[V-1]<<1;for(T=0;T<=C;T++){var K=_[2*T+1];K!==0&&(_[2*T]=ot(W[K]++,K))}}function it(_){var C;for(C=0;C<d;C++)_.dyn_ltree[2*C]=0;for(C=0;C<h;C++)_.dyn_dtree[2*C]=0;for(C=0;C<y;C++)_.bl_tree[2*C]=0;_.dyn_ltree[2*x]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function st(_){8<_.bi_valid?J(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function gt(_,C,R,V){var T=2*C,W=2*R;return _[T]<_[W]||_[T]===_[W]&&V[C]<=V[R]}function ht(_,C,R){for(var V=_.heap[R],T=R<<1;T<=_.heap_len&&(T<_.heap_len&&gt(C,_.heap[T+1],_.heap[T],_.depth)&&T++,!gt(C,V,_.heap[T],_.depth));)_.heap[R]=_.heap[T],R=T,T<<=1;_.heap[R]=V}function St(_,C,R){var V,T,W,G,K=0;if(_.last_lit!==0)for(;V=_.pending_buf[_.d_buf+2*K]<<8|_.pending_buf[_.d_buf+2*K+1],T=_.pending_buf[_.l_buf+K],K++,V===0?H(_,T,C):(H(_,(W=m[T])+f+1,C),(G=L[W])!==0&&q(_,T-=$[W],G),H(_,W=z(--V),R),(G=O[W])!==0&&q(_,V-=U[W],G)),K<_.last_lit;);H(_,x,C)}function kt(_,C){var R,V,T,W=C.dyn_tree,G=C.stat_desc.static_tree,K=C.stat_desc.has_stree,Q=C.stat_desc.elems,lt=-1;for(_.heap_len=0,_.heap_max=u,R=0;R<Q;R++)W[2*R]!==0?(_.heap[++_.heap_len]=lt=R,_.depth[R]=0):W[2*R+1]=0;for(;_.heap_len<2;)W[2*(T=_.heap[++_.heap_len]=lt<2?++lt:0)]=1,_.depth[T]=0,_.opt_len--,K&&(_.static_len-=G[2*T+1]);for(C.max_code=lt,R=_.heap_len>>1;1<=R;R--)ht(_,W,R);for(T=Q;R=_.heap[1],_.heap[1]=_.heap[_.heap_len--],ht(_,W,1),V=_.heap[1],_.heap[--_.heap_max]=R,_.heap[--_.heap_max]=V,W[2*T]=W[2*R]+W[2*V],_.depth[T]=(_.depth[R]>=_.depth[V]?_.depth[R]:_.depth[V])+1,W[2*R+1]=W[2*V+1]=T,_.heap[1]=T++,ht(_,W,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(at,wt){var re,At,ie,ft,_e,Oe,It=wt.dyn_tree,zn=wt.max_code,wi=wt.stat_desc.static_tree,_i=wt.stat_desc.has_stree,ki=wt.stat_desc.extra_bits,Bn=wt.stat_desc.extra_base,se=wt.stat_desc.max_length,ke=0;for(ft=0;ft<=b;ft++)at.bl_count[ft]=0;for(It[2*at.heap[at.heap_max]+1]=0,re=at.heap_max+1;re<u;re++)se<(ft=It[2*It[2*(At=at.heap[re])+1]+1]+1)&&(ft=se,ke++),It[2*At+1]=ft,zn<At||(at.bl_count[ft]++,_e=0,Bn<=At&&(_e=ki[At-Bn]),Oe=It[2*At],at.opt_len+=Oe*(ft+_e),_i&&(at.static_len+=Oe*(wi[2*At+1]+_e)));if(ke!==0){do{for(ft=se-1;at.bl_count[ft]===0;)ft--;at.bl_count[ft]--,at.bl_count[ft+1]+=2,at.bl_count[se]--,ke-=2}while(0<ke);for(ft=se;ft!==0;ft--)for(At=at.bl_count[ft];At!==0;)zn<(ie=at.heap[--re])||(It[2*ie+1]!==ft&&(at.opt_len+=(ft-It[2*ie+1])*It[2*ie],It[2*ie+1]=ft),At--)}}(_,C),dt(W,lt,_.bl_count)}function c(_,C,R){var V,T,W=-1,G=C[1],K=0,Q=7,lt=4;for(G===0&&(Q=138,lt=3),C[2*(R+1)+1]=65535,V=0;V<=R;V++)T=G,G=C[2*(V+1)+1],++K<Q&&T===G||(K<lt?_.bl_tree[2*T]+=K:T!==0?(T!==W&&_.bl_tree[2*T]++,_.bl_tree[2*E]++):K<=10?_.bl_tree[2*S]++:_.bl_tree[2*B]++,W=T,lt=(K=0)===G?(Q=138,3):T===G?(Q=6,3):(Q=7,4))}function F(_,C,R){var V,T,W=-1,G=C[1],K=0,Q=7,lt=4;for(G===0&&(Q=138,lt=3),V=0;V<=R;V++)if(T=G,G=C[2*(V+1)+1],!(++K<Q&&T===G)){if(K<lt)for(;H(_,T,_.bl_tree),--K!=0;);else T!==0?(T!==W&&(H(_,T,_.bl_tree),K--),H(_,E,_.bl_tree),q(_,K-3,2)):K<=10?(H(_,S,_.bl_tree),q(_,K-3,3)):(H(_,B,_.bl_tree),q(_,K-11,7));W=T,lt=(K=0)===G?(Q=138,3):T===G?(Q=6,3):(Q=7,4)}}l(U);var P=!1;function k(_,C,R,V){q(_,(g<<1)+(V?1:0),3),function(T,W,G,K){st(T),J(T,G),J(T,~G),a.arraySet(T.pending_buf,T.window,W,G,T.pending),T.pending+=G}(_,C,R)}i._tr_init=function(_){P||(function(){var C,R,V,T,W,G=new Array(b+1);for(T=V=0;T<p-1;T++)for($[T]=V,C=0;C<1<<L[T];C++)m[V++]=T;for(m[V-1]=T,T=W=0;T<16;T++)for(U[T]=W,C=0;C<1<<O[T];C++)D[W++]=T;for(W>>=7;T<h;T++)for(U[T]=W<<7,C=0;C<1<<O[T]-7;C++)D[256+W++]=T;for(R=0;R<=b;R++)G[R]=0;for(C=0;C<=143;)Y[2*C+1]=8,C++,G[8]++;for(;C<=255;)Y[2*C+1]=9,C++,G[9]++;for(;C<=279;)Y[2*C+1]=7,C++,G[7]++;for(;C<=287;)Y[2*C+1]=8,C++,G[8]++;for(dt(Y,d+1,G),C=0;C<h;C++)A[2*C+1]=5,A[2*C]=ot(C,5);rt=new tt(Y,L,f+1,d,b),N=new tt(A,O,0,h,b),et=new tt(new Array(0),I,0,y,w)}(),P=!0),_.l_desc=new M(_.dyn_ltree,rt),_.d_desc=new M(_.dyn_dtree,N),_.bl_desc=new M(_.bl_tree,et),_.bi_buf=0,_.bi_valid=0,it(_)},i._tr_stored_block=k,i._tr_flush_block=function(_,C,R,V){var T,W,G=0;0<_.level?(_.strm.data_type===2&&(_.strm.data_type=function(K){var Q,lt=4093624447;for(Q=0;Q<=31;Q++,lt>>>=1)if(1&lt&&K.dyn_ltree[2*Q]!==0)return s;if(K.dyn_ltree[18]!==0||K.dyn_ltree[20]!==0||K.dyn_ltree[26]!==0)return o;for(Q=32;Q<f;Q++)if(K.dyn_ltree[2*Q]!==0)return o;return s}(_)),kt(_,_.l_desc),kt(_,_.d_desc),G=function(K){var Q;for(c(K,K.dyn_ltree,K.l_desc.max_code),c(K,K.dyn_dtree,K.d_desc.max_code),kt(K,K.bl_desc),Q=y-1;3<=Q&&K.bl_tree[2*j[Q]+1]===0;Q--);return K.opt_len+=3*(Q+1)+5+5+4,Q}(_),T=_.opt_len+3+7>>>3,(W=_.static_len+3+7>>>3)<=T&&(T=W)):T=W=R+5,R+4<=T&&C!==-1?k(_,C,R,V):_.strategy===4||W===T?(q(_,2+(V?1:0),3),St(_,Y,A)):(q(_,4+(V?1:0),3),function(K,Q,lt,at){var wt;for(q(K,Q-257,5),q(K,lt-1,5),q(K,at-4,4),wt=0;wt<at;wt++)q(K,K.bl_tree[2*j[wt]+1],3);F(K,K.dyn_ltree,Q-1),F(K,K.dyn_dtree,lt-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,G+1),St(_,_.dyn_ltree,_.dyn_dtree)),it(_),V&&st(_)},i._tr_tally=function(_,C,R){return _.pending_buf[_.d_buf+2*_.last_lit]=C>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&C,_.pending_buf[_.l_buf+_.last_lit]=255&R,_.last_lit++,C===0?_.dyn_ltree[2*R]++:(_.matches++,C--,_.dyn_ltree[2*(m[R]+f+1)]++,_.dyn_dtree[2*z(C)]++),_.last_lit===_.lit_bufsize-1},i._tr_align=function(_){q(_,2,3),H(_,x,Y),function(C){C.bi_valid===16?(J(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):8<=C.bi_valid&&(C.pending_buf[C.pending++]=255&C.bi_buf,C.bi_buf>>=8,C.bi_valid-=8)}(_)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(s,o){if(!s.setImmediate){var l,g,p,f,d=1,h={},y=!1,u=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,l={}.toString.call(s.process)==="[object process]"?function(E){process.nextTick(function(){w(E)})}:function(){if(s.postMessage&&!s.importScripts){var E=!0,S=s.onmessage;return s.onmessage=function(){E=!1},s.postMessage("","*"),s.onmessage=S,E}}()?(f="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",x,!1):s.attachEvent("onmessage",x),function(E){s.postMessage(f+E,"*")}):s.MessageChannel?((p=new MessageChannel).port1.onmessage=function(E){w(E.data)},function(E){p.port2.postMessage(E)}):u&&"onreadystatechange"in u.createElement("script")?(g=u.documentElement,function(E){var S=u.createElement("script");S.onreadystatechange=function(){w(E),S.onreadystatechange=null,g.removeChild(S),S=null},g.appendChild(S)}):function(E){setTimeout(w,0,E)},b.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var S=new Array(arguments.length-1),B=0;B<S.length;B++)S[B]=arguments[B+1];var L={callback:E,args:S};return h[d]=L,l(d),d++},b.clearImmediate=v}function v(E){delete h[E]}function w(E){if(y)setTimeout(w,0,E);else{var S=h[E];if(S){y=!0;try{(function(B){var L=B.callback,O=B.args;switch(O.length){case 0:L();break;case 1:L(O[0]);break;case 2:L(O[0],O[1]);break;case 3:L(O[0],O[1],O[2]);break;default:L.apply(o,O)}})(S)}finally{v(E),y=!1}}}}function x(E){E.source===s&&typeof E.data=="string"&&E.data.indexOf(f)===0&&w(+E.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Ae<"u"?Ae:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ci);var Lo=ci.exports;const Mo=Bo(Lo);class Oo{constructor(){this.cart=this.loadCart(),this.basePath=this.getBasePath(),this.panel=document.getElementById("zip-cart-panel"),this.itemsContainer=document.getElementById("zip-cart-items"),this.emptyState=document.getElementById("zip-cart-empty"),this.countElement=document.getElementById("zip-cart-count"),this.badgeElement=document.getElementById("zip-cart-badge"),this.downloadButton=document.getElementById("zip-cart-download"),this.triggerButton=document.getElementById("zip-cart-trigger"),this.closeButton=document.getElementById("zip-cart-close"),this.isOpen=!1,this.dragOverZone=null,this.init()}getBasePath(){return window.basePath!==void 0?window.basePath:window.location.pathname.includes("/eliza-creative/")?"/eliza-creative":""}loadCart(){try{const t=sessionStorage.getItem("zipCart");return t?JSON.parse(t):[]}catch(t){return console.error("Error loading cart:",t),[]}}saveCart(){try{sessionStorage.setItem("zipCart",JSON.stringify(this.cart))}catch(t){console.error("Error saving cart:",t)}}init(){var t,n,r;(t=this.triggerButton)==null||t.addEventListener("click",()=>this.togglePanel()),(n=this.closeButton)==null||n.addEventListener("click",()=>this.closePanel()),(r=this.downloadButton)==null||r.addEventListener("click",()=>this.downloadZip()),this.setupDragAndDrop(),this.render()}setupDragAndDrop(){var r,i,a;const t=document.createElement("div");t.className="zip-cart-drag-zone",document.body.appendChild(t),document.addEventListener("dragstart",s=>{const o=s.target.closest(".bento-item, .audio-list-item, .image-container, .video-preview-container, .audio-preview-container");if(o){const l=o.getAttribute("data-path"),g=o.getAttribute("data-name");l&&g&&(s.dataTransfer.setData("text/plain",JSON.stringify({path:l,name:g})),s.dataTransfer.effectAllowed="copy")}});let n;document.addEventListener("dragover",s=>{const o=window.innerWidth-50;s.clientX>o&&s.dataTransfer.types.includes("text/plain")?(this.isOpen||(clearTimeout(n),n=setTimeout(()=>{this.openPanel()},300)),t.classList.add("active")):(t.classList.remove("active"),clearTimeout(n))}),(r=this.panel)==null||r.addEventListener("dragover",s=>{s.preventDefault(),s.stopPropagation(),this.panel.classList.add("drag-over")}),(i=this.panel)==null||i.addEventListener("dragleave",s=>{this.panel.contains(s.relatedTarget)||this.panel.classList.remove("drag-over")}),(a=this.panel)==null||a.addEventListener("drop",s=>{s.preventDefault(),s.stopPropagation(),this.panel.classList.remove("drag-over"),t.classList.remove("active");try{const o=JSON.parse(s.dataTransfer.getData("text/plain"));o.path&&o.name&&this.addItem(o.path,o.name)}catch(o){console.error("Error parsing drag data:",o)}})}addItem(t,n){return this.cart.some(i=>i.path===t)?!1:(this.cart.push({path:t,name:n}),this.saveCart(),this.render(),this.openPanel(),!0)}removeItem(t){this.cart=this.cart.filter(n=>n.path!==t),this.saveCart(),this.render()}clearCart(){this.cart=[],this.saveCart(),this.render()}togglePanel(){this.isOpen?this.closePanel():this.openPanel()}openPanel(){var t,n;this.isOpen=!0,(t=this.panel)==null||t.classList.add("open"),(n=this.triggerButton)==null||n.classList.add("active")}closePanel(){var t,n;this.isOpen=!1,(t=this.panel)==null||t.classList.remove("open"),(n=this.triggerButton)==null||n.classList.remove("active")}render(){var n,r,i,a;const t=this.cart.length;this.countElement.textContent=`${t} ${t===1?"item":"items"}`,this.badgeElement.textContent=t,t===0?((n=this.emptyState)==null||n.classList.remove("hidden"),(r=this.itemsContainer)==null||r.classList.add("hidden"),this.downloadButton.disabled=!0):((i=this.emptyState)==null||i.classList.add("hidden"),(a=this.itemsContainer)==null||a.classList.remove("hidden"),this.downloadButton.disabled=!1),this.itemsContainer&&t>0&&(this.itemsContainer.innerHTML=this.cart.map(s=>{const o=s.name.split(".").pop().toLowerCase(),l=this.getFileType(o),g=this.getFileIcon(l);return`
                    <div class="zip-cart-item" data-path="${this.escapeHtml(s.path)}">
                        <div class="zip-cart-item-icon">${g}</div>
                        <div class="zip-cart-item-info">
                            <div class="zip-cart-item-name">${this.escapeHtml(s.name)}</div>
                            <div class="zip-cart-item-path">${this.escapeHtml(s.path)}</div>
                        </div>
                        <button class="zip-cart-item-remove" data-path="${this.escapeHtml(s.path)}" title="Remove">
                            
                        </button>
                    </div>
                `}).join(""),this.itemsContainer.querySelectorAll(".zip-cart-item-remove").forEach(s=>{s.addEventListener("click",o=>{const l=s.getAttribute("data-path");this.removeItem(l)})}))}getFileType(t){return["mp3","wav","ogg","m4a"].includes(t)?"audio":["mp4","webm","mov"].includes(t)?"video":["jpg","jpeg","png","gif","webp"].includes(t)?"image":"file"}getFileIcon(t){const n={audio:"",video:"",image:"",file:""};return n[t]||n.file}async downloadZip(){if(this.cart.length!==0){this.downloadButton.disabled=!0,this.downloadButton.textContent="Creating Zip...";try{const t=new Mo,n=this.basePath;for(const s of this.cart)try{const o=s.path.startsWith("/")?s.path:`/${s.path}`,l=`${n}${o}`,g=await fetch(l);if(!g.ok)throw new Error(`Failed to fetch ${s.name}`);const p=await g.blob();t.file(s.name,p)}catch(o){console.error(`Error adding ${s.name} to zip:`,o)}const r=await t.generateAsync({type:"blob"}),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=`eliza-assets-${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i),this.downloadButton.disabled=!1,this.downloadButton.textContent="Download Zip"}catch(t){console.error("Error creating zip:",t),alert("Error creating zip file. Please try again."),this.downloadButton.disabled=!1,this.downloadButton.textContent="Download Zip"}}}escapeHtml(t){const n=document.createElement("div");return n.textContent=t,n.innerHTML}}const Cn=new Oo,Po={};let Bt=null,mt="preview",Ft=[],ct=null,yt="",sn=!1,Et=null,Ut=30,Pt=1,ye=[],Re=[];document.addEventListener("DOMContentLoaded",async()=>{await Do(),jo(),Zo(),Vo(),mi(),Xo(),pi();const e=document.getElementById("nav-about");e&&e.classList.add("active")});function bt(){if(typeof import.meta<"u"&&Po){const t="/eliza-creative/";return t==="/"?"":t.replace(/\/$/,"")}return window.location.pathname.includes("/eliza-creative/")?"/eliza-creative":""}window.basePath=bt();async function Do(){try{const e=bt(),t=await fetch(`${e}/manifest.json`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);Bt=await t.json(),Fo(),mi(),pl()}catch(e){console.error("Error loading manifest:",e);const t=window.location.protocol==="file:"?'Please run "npm run dev" to start the development server. Opening HTML directly from file:// is not supported.':'Error loading file manifest. Make sure to run "npm run build" first to generate manifest.json';document.getElementById("file-tree").innerHTML=`<div class="file-tree-item file-tree-error">${t}</div>`}}function Fo(){if(Ft=[],!Bt)return;function e(t,n=""){t.forEach(r=>{if(r.type==="file"){const i=r.name.split(".").pop().toLowerCase();["mp3","wav","ogg","m4a","mp4","webm","mov","jpg","jpeg","png","gif","webp"].includes(i)&&Ft.push({...r,category:$o(r.path)})}else r.type==="directory"&&r.children&&e(r.children,r.path)})}Object.keys(Bt).forEach(t=>{t!=="."&&t!=="Brand Kit"&&e(Bt[t])})}function $o(e){return e.includes("Music")?"Music":e.includes("Videos")?"Videos":e.includes("ElizaOS Stickers")?"Stickers":e.includes("Brand Kit")?"Brand Kit":e.includes("ElizaOS Art")?"ElizaOS Art":"Other"}function Ro(e){if(!e||e==="")return Ft;const n=(e.startsWith("/")?e.substring(1):e).replace(/\\/g,"/");return Ft.filter(r=>{const a=(r.path.startsWith("/")?r.path.substring(1):r.path).replace(/\\/g,"/");return a.startsWith(n+"/")||a===n})}function No(e,t){if(!t||t.trim()==="")return e;const n=t.toLowerCase().trim();return e.filter(r=>{const i=r.name.toLowerCase(),a=r.path.toLowerCase();return i.includes(n)||a.includes(n)})}function zt(){const e=document.getElementById("asset-preview");sn=!1,Pt=1;const t=e.querySelector("#load-more-btn");t&&t._scrollObserver&&t._scrollObserver.disconnect(),Yt&&(Yt.disconnect(),Yt=null);let n=ct?Ro(ct):Ft;yt&&(n=No(n,yt)),ye=n;const r=ct?ct.split("/").pop()||ct:"All",i=yt?`Search: "${yt}" (${n.length} results)`:ct?`${r} Assets`:"All Assets";if(document.getElementById("asset-title").textContent=i,n.length===0){const s=yt?`No assets found matching "${yt}"`:"No assets found in this folder";e.innerHTML=`<div class="empty-state"><p>${s}</p></div>`;return}const a=n.slice(0,Ut);ui(a,n.length,e)}function ui(e,t,n){const r=ct&&(ct.includes("Music")||ct.includes("/Music"));e.filter(d=>{const h=d.name.split(".").pop().toLowerCase();return["mp3","wav","ogg","m4a"].includes(h)});const i=e.some(d=>{const h=d.name.split(".").pop().toLowerCase();return["mp3","wav","ogg","m4a"].includes(h)}),a=r&&i;let s="";a?s+='<div class="audio-list">':s+='<div class="bento-grid">';const o=bt();e.forEach(d=>{const h=d.name.split(".").pop().toLowerCase(),y=d.path.startsWith("/")?d.path:`/${d.path}`,u=`${o}${y}`,b=In(d.name);if(b==="image"){const v=d.path.split(".").pop(),w=d.path.replace(`.${v}`,".jpg"),x=`${o}/thumbnails${w}`;s+=`
                <div class="bento-item image" data-path="${Z(d.path)}" data-name="${Z(d.name)}" draggable="true">
                    <div class="image-container-bento">
                        <img class="lazy-image" data-src="${x}" data-full-src="${u}" data-fallback="${u}" alt="${Z(d.name)}" loading="lazy" decoding="async" width="400" height="400" onerror="this.onerror=null; this.src=this.dataset.fallback;">
                        <div class="button-overlay-group">
                            <button class="download-button-overlay" data-download-path="${Z(d.path)}" data-download-name="${Z(d.name)}" title="Download Image">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                            </button>
                            <button class="add-to-zip-button-overlay" data-zip-path="${Z(d.path)}" data-zip-name="${Z(d.name)}" title="Add to Zip">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="17 8 12 3 7 8"></polyline>
                                    <line x1="12" y1="3" x2="12" y2="15"></line>
                                    <path d="M3 15h18"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="bento-item-icon"></div>
                    <div class="bento-item-content">
                        <div class="bento-item-title">${Z(d.name)}</div>
                        <div class="bento-item-path">${Z(d.path)}</div>
                    </div>
                </div>
            `}else b==="video"?s+=`
                <div class="bento-item video" data-path="${Z(d.path)}" data-name="${Z(d.name)}" draggable="true">
                    <div class="video-container">
                        <video muted loop preload="metadata" loading="lazy" playsinline>
                            <source src="${u}" type="video/${h==="mov"?"quicktime":h}">
                        </video>
                        <div class="button-overlay-group">
                            <button class="download-button-overlay" data-download-path="${Z(d.path)}" data-download-name="${Z(d.name)}" title="Download Video">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                            </button>
                            <button class="add-to-zip-button-overlay" data-zip-path="${Z(d.path)}" data-zip-name="${Z(d.name)}" title="Add to Zip">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="17 8 12 3 7 8"></polyline>
                                    <line x1="12" y1="3" x2="12" y2="15"></line>
                                    <path d="M3 15h18"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="bento-item-icon"></div>
                    <div class="bento-item-content">
                        <div class="bento-item-title">${Z(d.name)}</div>
                        <div class="bento-item-path">${Z(d.path)}</div>
                    </div>
                </div>
            `:b==="audio"&&(a?s+=`
                    <div class="audio-list-item" data-path="${Z(d.path)}" data-name="${Z(d.name)}" draggable="true">
                        <div class="audio-list-icon"></div>
                        <div class="audio-list-info">
                            <div class="audio-list-title">${Z(d.name)}</div>
                            <div class="audio-list-path">${Z(d.path)}</div>
                        </div>
                        <div class="audio-list-buttons">
                            <button class="audio-list-download" data-download-path="${Z(d.path)}" data-download-name="${Z(d.name)}" title="Download Audio">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                            </button>
                            <button class="audio-list-add-to-zip" data-zip-path="${Z(d.path)}" data-zip-name="${Z(d.name)}" title="Add to Zip">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="17 8 12 3 7 8"></polyline>
                                    <line x1="12" y1="3" x2="12" y2="15"></line>
                                    <path d="M3 15h18"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                `:s+=`
                    <div class="bento-item audio" data-path="${Z(d.path)}" data-name="${Z(d.name)}" draggable="true">
                        <div class="bento-item-placeholder">
                            <div class="bento-item-placeholder-icon"></div>
                            <div class="bento-item-placeholder-title">${Z(d.name)}</div>
                            <div class="bento-item-placeholder-path">${Z(d.path)}</div>
                            <div class="button-overlay-group">
                                <button class="download-button-overlay audio-download-btn" data-download-path="${Z(d.path)}" data-download-name="${Z(d.name)}" title="Download Audio">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                        <polyline points="7 10 12 15 17 10"></polyline>
                                        <line x1="12" y1="15" x2="12" y2="3"></line>
                                    </svg>
                                </button>
                                <button class="add-to-zip-button-overlay" data-zip-path="${Z(d.path)}" data-zip-name="${Z(d.name)}" title="Add to Zip">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                        <polyline points="17 8 12 3 7 8"></polyline>
                                        <line x1="12" y1="3" x2="12" y2="15"></line>
                                        <path d="M3 15h18"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="bento-item-icon"></div>
                    </div>
                `)}),s+="</div>";const l=(Pt-1)*Ut+e.length,g=t-l;if(g>0&&(s+=`
            <div class="load-more-container">
                <button id="load-more-btn" class="load-more-btn">
                    Load More (${g} remaining)
                </button>
            </div>
        `),Pt===1)n.innerHTML=s;else{const d=n.querySelector(".bento-grid, .audio-list");if(d){const h=document.createElement("div");h.innerHTML=s;const y=h.querySelector(".bento-grid, .audio-list");y&&Array.from(y.children).forEach(x=>d.appendChild(x));const u=n.querySelector(".load-more-container"),b=h.querySelector(".load-more-container");u&&b?u.replaceWith(b):b?d.parentElement.appendChild(b):u&&g<=0&&u.remove();const v=n.querySelector(".bento-grid, .audio-list");v&&typeof v.observeVideos=="function"&&v.observeVideos()}}(a?document.querySelectorAll(".audio-list-item"):document.querySelectorAll(".bento-item")).forEach((d,h)=>{d.style.opacity="0",d.style.transform="translateY(20px) scale(0.9)",requestAnimationFrame(()=>{setTimeout(()=>{d.style.transition="opacity 0.3s ease-out, transform 0.3s ease-out",d.style.opacity="1",d.style.transform="translateY(0) scale(1)"},h*10)})});const f=n.querySelector(".bento-grid, .audio-list");if(f&&!sn){sn=!0;let d;const h=new IntersectionObserver(y=>{y.forEach(u=>{if(u.isIntersecting){const b=u.target;b.readyState===0&&b.load()}})},{rootMargin:"100px"});f.observeVideos=()=>{f.querySelectorAll("video").forEach(y=>{y.dataset.observed||(h.observe(y),y.dataset.observed="true")})},f.observeVideos(),f.addEventListener("mouseenter",y=>{var b;const u=(b=y.target.closest(".bento-item.video"))==null?void 0:b.querySelector("video");u&&(clearTimeout(d),u.readyState<2&&u.load(),u.play().catch(()=>{}))},!0),f.addEventListener("mouseleave",y=>{var b;const u=(b=y.target.closest(".bento-item.video"))==null?void 0:b.querySelector("video");if(u){const v=u.closest(".bento-item"),w=v==null?void 0:v.querySelector(".download-button-overlay");w!=null&&w.matches(":hover")||(d=setTimeout(()=>{u.pause(),u.currentTime=0},100))}},!0),f.addEventListener("mouseenter",y=>{const u=y.target.closest(".bento-item");u&&!u.querySelector("video")&&(u.style.transform="translateY(-4px) scale(1.02)")},!0),f.addEventListener("mouseleave",y=>{const u=y.target.closest(".bento-item");u&&!u.querySelector("video")&&(u.style.transform="")},!0),f.addEventListener("click",y=>{const u=y.target.closest(".download-button-overlay, .audio-list-download");if(u){y.stopPropagation(),y.preventDefault();const w=u.getAttribute("data-download-path"),x=u.getAttribute("data-download-name"),E=bt(),S=w.startsWith("/")?`${E}${w}`:`${E}/${w}`,B=document.createElement("a");B.href=S,B.download=x,B.style.display="none",document.body.appendChild(B),B.click(),document.body.removeChild(B);return}const b=y.target.closest(".add-to-zip-button-overlay, .audio-list-add-to-zip");if(b){y.stopPropagation(),y.preventDefault();const w=b.getAttribute("data-zip-path"),x=b.getAttribute("data-zip-name");w&&x&&Cn.addItem(w,x);return}const v=y.target.closest(".bento-item, .audio-list-item");if(v){const w=v.getAttribute("data-path"),x=v.getAttribute("data-name");if(v.classList.contains("audio")||v.classList.contains("audio-list-item")){const E=bt(),S=w.startsWith("/")?w:`/${w}`,B=`${E}${S}`,L=X.playlist.findIndex(O=>O.path===B||O.path.endsWith(S));if(L!==-1){vi(L);return}}Et={view:"bento",folderContext:ct,searchQuery:yt},mt="preview",we(w,x)}})}n.addEventListener("click",d=>{if(d.target.id==="load-more-btn"||d.target.closest("#load-more-btn")){d.preventDefault(),d.stopPropagation();const h=d.target.id==="load-more-btn"?d.target:d.target.closest("#load-more-btn");h&&!h.disabled&&(h.disabled=!0,di(n,t),setTimeout(()=>{const y=n.querySelector("#load-more-btn");y&&(y.disabled=!1)},100))}}),fi(n),ye.length>Pt*Ut&&hi(n,t)}function di(e,t){var a;Pt++;const n=(Pt-1)*Ut,r=n+Ut,i=ye.slice(n,r);if(i.length>0){ui(i,t,e),fi(e);const s=Pt*Ut;ye.length>s&&hi(e,t)}else{const s=e.querySelector("#load-more-btn");s&&((a=s.closest(".load-more-container"))==null||a.remove())}}function hi(e,t){if(ye.length<=Pt*Ut)return;const n=e.querySelector("#load-more-btn");if(!n)return;new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting&&di(e,t)})},{rootMargin:"200px"}).observe(n)}let Yt=null;function fi(e){const t=e.querySelectorAll("img.lazy-image[data-src]:not([src])");t.length!==0&&("IntersectionObserver"in window?(Yt||(Yt=new IntersectionObserver((n,r)=>{n.forEach(i=>{if(i.isIntersecting){const a=i.target;if(a.src||!a.hasAttribute("data-src")){r.unobserve(a);return}const s=a.getAttribute("data-src"),o=a.getAttribute("data-fallback");a.onerror=function(){this.src!==o&&o&&(this.src=o)},a.src=s,a.classList.remove("lazy-image"),a.removeAttribute("data-src"),r.unobserve(a)}})},{rootMargin:"100px"})),t.forEach(n=>{!n.src&&n.hasAttribute("data-src")&&Yt.observe(n)})):t.forEach(n=>{const r=n.getAttribute("data-fallback");n.src=n.getAttribute("data-src")||r,n.onerror=function(){this.src!==r&&r&&(this.src=r)},n.classList.remove("lazy-image"),n.removeAttribute("data-src")}))}function Vo(){const e=document.getElementById("search-input"),t=document.getElementById("search-clear");e&&(e.addEventListener("input",n=>{yt=n.target.value,yt.trim()?t.classList.remove("hidden"):t.classList.add("hidden"),mt==="bento"||(mt="bento"),zt()}),t.addEventListener("click",()=>{e.value="",yt="",t.style.display="none",mt==="bento"&&zt()}),e.addEventListener("keydown",n=>{n.key==="Enter"&&(n.preventDefault(),mt!=="bento"&&(mt="bento"),zt())}))}function jo(){const e=document.getElementById("file-tree");e.innerHTML="",Bt&&Object.keys(Bt).forEach(t=>{if(t==="Brand Kit")return;const n=Bt[t];t==="."?n.forEach(r=>Wo(r,e,0)):Uo(t,n,e,0)})}function Uo(e,t,n,r){const i=document.createElement("div");i.className="file-tree-item directory folder",i.style.paddingLeft=`${12+r*20}px`;const a=e;i.setAttribute("data-path",a),i.innerHTML=`
        <span class="folder-icon collapsed"></span>
        <span>${Z(e)}</span>
    `,i.addEventListener("click",s=>{s.stopPropagation(),Tn(i,e,t)}),n.appendChild(i)}function Wo(e,t,n){const r=document.createElement("div");r.className=`file-tree-item file ${In(e.name)}`,r.style.paddingLeft=`${12+n*20}px`,r.setAttribute("data-path",e.path),r.textContent=e.name,r.addEventListener("click",i=>{i.stopPropagation(),we(e.path,e.name)}),t.appendChild(r)}function Ce(e){if(!Bt)return;const t=document.querySelectorAll(".file-tree-item.folder");for(const n of t)if(n.textContent.trim()===e){const i=Bt[e];i&&(n.querySelector(".folder-icon").classList.contains("expanded")?(mt="bento",zt()):Tn(n,e,i));return}}function Tn(e,t,n){if(t==="Brand Kit"){Me(),document.querySelectorAll(".nav-link").forEach(o=>o.classList.remove("active"));const s=document.getElementById("nav-brand-kit");s&&s.classList.add("active");return}const r=e.querySelector(".folder-icon");if(r.classList.contains("expanded")){r.classList.remove("expanded"),r.classList.add("collapsed");const a=e.getAttribute("data-path")||t,s=ct?ct.replace(/\\/g,"/"):"",o=a.replace(/\\/g,"/");if(s===o||s.startsWith(o+"/")){const p=e.parentElement.querySelector(".file-tree-item.folder[data-path]");if(p&&p!==e){const f=p.getAttribute("data-path");ct=f.startsWith("/")?f:`/${f}`}else ct=null;document.querySelectorAll(".file-tree-item").forEach(f=>{f.classList.remove("active")}),ct&&p&&p.classList.add("active")}e.parentElement;let l=e.nextSibling;const g=parseInt(e.style.paddingLeft)||0;for(;l&&!((parseInt(l.style.paddingLeft)||0)<=g);){const f=l;l=l.nextSibling,f.remove()}mt==="bento"&&zt()}else{const a=e.getAttribute("data-path")||t;ct=a.startsWith("/")?a:`/${a}`,document.querySelectorAll(".file-tree-item").forEach(f=>{f.classList.remove("active")}),e.classList.add("active"),r.classList.remove("collapsed"),r.classList.add("expanded");const s=e.parentElement,o=e.nextSibling,g=(parseInt(e.style.paddingLeft)||0)+20,p=document.createDocumentFragment();n.forEach(f=>{if(f.type==="directory"){const d=document.createElement("div");d.className="file-tree-item directory folder",d.style.paddingLeft=`${12+g}px`,d.setAttribute("data-path",f.path),d.innerHTML=`
                    <span class="folder-icon collapsed"></span>
                    <span>${Z(f.name)}</span>
                `,d.addEventListener("click",h=>{h.stopPropagation(),Tn(d,f.name,f.children||[])}),p.appendChild(d)}else{const d=document.createElement("div");d.className=`file-tree-item file ${In(f.name)}`,d.style.paddingLeft=`${12+g}px`,d.setAttribute("data-path",f.path),d.textContent=f.name,d.addEventListener("click",h=>{h.stopPropagation(),we(f.path,f.name)}),p.appendChild(d)}}),o?s.insertBefore(p,o):s.appendChild(p),setTimeout(()=>{const f=[];let d=e.nextSibling;const h=parseInt(e.style.paddingLeft)||0;for(;d&&!((parseInt(d.style.paddingLeft)||0)<=h);)f.push(d),d=d.nextSibling;f.length>0&&Tt(f,{opacity:[0,1],x:[-10,0]},{duration:.3,delay:Kt(.02),easing:"ease-out"})},0),mt="bento",zt()}}function we(e,t){var i;if(e.includes("Brand Kit/index.html")||e.includes("Brand Kit\\index.html")){Me();return}const n=t.split(".").pop().toLowerCase();if(["mp3","wav","ogg","m4a"].includes(n)){const a=bt(),s=e.startsWith("/")?e:`/${e}`,o=`${a}${s}`,l=X.playlist.findIndex(g=>g.path===o||g.path.endsWith(s));if(l!==-1){vi(l),document.querySelectorAll(".file-tree-item").forEach(g=>{g.classList.remove("active");const p=g.getAttribute("data-path");(p===e||p===t)&&g.classList.add("active")});return}}mt==="bento"?(Et={view:"bento",folderContext:ct,searchQuery:yt},mt="preview"):mt==="preview"?Et={view:"bento",folderContext:e.substring(0,e.lastIndexOf("/"))||null,searchQuery:""}:(Et={view:"bento",folderContext:e.substring(0,e.lastIndexOf("/"))||null,searchQuery:""},mt="preview"),document.querySelectorAll(".file-tree-item").forEach(a=>{a.classList.remove("active")});const r=(i=event==null?void 0:event.target)==null?void 0:i.closest(".file-tree-item");r&&r.classList.add("active"),document.getElementById("asset-title").textContent=t,Ho(e,t)}function Ho(e,t){const n=document.getElementById("asset-preview");n.innerHTML='<div class="loading">Loading</div>';const r=t.split(".").pop().toLowerCase(),i=bt(),a=e.startsWith("/")?e:`/${e}`,s=`${i}${a}`,o=Et?`
        <button class="back-button" id="back-button" title="Go back">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            <span>Back</span>
        </button>
    `:"";let l="";["mp4","webm","mov"].includes(r)?l=`
            <div class="asset-preview">
                ${o}
                <div class="video-preview-container" draggable="true" data-path="${Z(e)}" data-name="${Z(t)}">
                    <video controls autoplay playsinline>
                        <source src="${s}" type="video/${r==="mov"?"quicktime":r}">
                        Your browser does not support the video tag.
                    </video>
                    <div class="button-overlay-group">
                        <a href="${s}" download="${Z(t)}" class="download-button-overlay" title="Download Video">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                        </a>
                        <button class="add-to-zip-button-overlay" data-zip-path="${Z(e)}" data-zip-name="${Z(t)}" title="Add to Zip">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                                <path d="M3 15h18"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="asset-info">
                    <h3>${Z(t)}</h3>
                    <p class="asset-path">${Z(e)}</p>
                    <a href="${s}" download="${Z(t)}" class="download-button">
                        Download Video
                    </a>
                </div>
            </div>
        `:["mp3","wav","ogg","m4a"].includes(r)?l=`
            <div class="asset-preview">
                ${o}
                <div class="audio-preview-container" draggable="true" data-path="${Z(e)}" data-name="${Z(t)}">
                    <audio controls autoplay>
                        <source src="${s}" type="audio/${r==="m4a"?"mp4":r}">
                        Your browser does not support the audio tag.
                    </audio>
                    <div class="button-overlay-group">
                        <a href="${s}" download="${Z(t)}" class="download-button-overlay" title="Download Audio">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                        </a>
                        <button class="add-to-zip-button-overlay" data-zip-path="${Z(e)}" data-zip-name="${Z(t)}" title="Add to Zip">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                                <path d="M3 15h18"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="asset-info">
                    <h3>${Z(t)}</h3>
                    <p class="asset-path">${Z(e)}</p>
                    <a href="${s}" download="${Z(t)}" class="download-button">
                        Download Audio
                    </a>
                </div>
            </div>
        `:["jpg","jpeg","png","gif","webp"].includes(r)?l=`
            <div class="asset-preview">
                ${o}
                <div class="image-container" draggable="true" data-path="${Z(e)}" data-name="${Z(t)}">
                    <img src="${s}" alt="${Z(t)}" id="preview-image">
                    <div class="button-overlay-group">
                        <a href="${s}" download="${Z(t)}" class="download-button-overlay" title="Download Image">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                        </a>
                        <button class="add-to-zip-button-overlay" data-zip-path="${Z(e)}" data-zip-name="${Z(t)}" title="Add to Zip">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                                <path d="M3 15h18"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="asset-info">
                    <h3>${Z(t)}</h3>
                    <p class="asset-path">${Z(e)}</p>
                </div>
            </div>
        `:l=`
            <div class="asset-preview">
                ${o}
                <div class="asset-info">
                    <h3>${Z(t)}</h3>
                    <p class="asset-path">${Z(e)}</p>
                    <p>Preview not available for this file type.</p>
                </div>
            </div>
        `,n.innerHTML=l;const g=document.getElementById("back-button");g&&g.addEventListener("click",Ko),n.querySelectorAll(".add-to-zip-button-overlay").forEach(f=>{f.addEventListener("click",d=>{d.stopPropagation(),d.preventDefault();const h=f.getAttribute("data-zip-path"),y=f.getAttribute("data-zip-name");h&&y&&Cn.addItem(h,y)})});const p=n.querySelector(".asset-preview");p&&Tt(p,{opacity:[0,1],y:[10,0]},{duration:.4,easing:"ease-out"})}function Ko(){if(!Et){const n=document.querySelector(".file-tree-item.active");if(n){const r=n.getAttribute("data-path");r&&(ct=r.substring(0,r.lastIndexOf("/"))||null)}mt="bento",zt();return}mt=Et.view,ct=Et.folderContext,yt=Et.searchQuery||"";const e=document.getElementById("search-input");e&&(e.value=yt),document.querySelectorAll(".file-tree-item").forEach(n=>{n.classList.remove("active")});const t=ct?ct.split("/").pop()||ct:"All";document.getElementById("asset-title").textContent=yt?`Search: ${yt}`:ct?`${t} Assets`:"All Assets",zt(),Et=null}function In(e){const t=e.split(".").pop().toLowerCase();return["mp3","wav","ogg","m4a"].includes(t)?"audio":["mp4","webm","mov"].includes(t)?"video":["jpg","jpeg","png","gif","webp"].includes(t)?"image":""}function Z(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function Zo(){const e=document.querySelectorAll(".nav-link");e.forEach(t=>{t.addEventListener("click",n=>{n.preventDefault(),e.forEach(i=>i.classList.remove("active")),t.classList.add("active");const r=t.getAttribute("data-view");r==="about"?pi():r==="showcase"?Go():r==="llms"?Yo():r==="brand-kit"?Me():r==="news"&&rl()})})}function qo(e){e.forEach(t=>{t.style.cursor="pointer";const n=t.querySelector("h3");if(!n)return;const r=n.textContent.trim();t.addEventListener("click",()=>{if(document.querySelectorAll(".nav-link").forEach(i=>i.classList.remove("active")),r.includes("Music")||r.includes("Audio"))Ce("Music");else if(r.includes("Visual")||r.includes("Assets"))Ce("ElizaOS Stickers"),setTimeout(()=>{Ce("ElizaOS Art")},100);else if(r.includes("Video"))Ce("Videos");else if(r.includes("Brand Kit")||r.includes("Brand")){Me();const i=document.getElementById("nav-brand-kit");i&&i.classList.add("active");return}})})}async function pi(){const e=document.getElementById("asset-preview");document.getElementById("asset-title").textContent="About";try{const t=bt(),n=await fetch(`${t}/about.html`);if(!n.ok)throw new Error("Failed to load about page");const r=await n.text(),s=new DOMParser().parseFromString(r,"text/html").querySelector(".about-container");if(s){const o=s.cloneNode(!0),l=o.querySelector(".back-link");l&&l.remove(),e.innerHTML=o.innerHTML;const g=e.querySelectorAll(".about-section");g.length>0&&Tt(g,{opacity:[0,1],y:[20,0]},{duration:.6,delay:Kt(.1),easing:"ease-out"});const p=e.querySelectorAll(".feature-card");p.length>0&&(Tt(p,{opacity:[0,1],scale:[.95,1]},{duration:.5,delay:Kt(.05),easing:"ease-out"}),qo(p)),ml()}else e.innerHTML='<div class="empty-state"><p>About page content not found</p></div>'}catch(t){console.error("Error loading about page:",t),e.innerHTML='<div class="empty-state"><p>Error loading about page</p></div>'}}async function Go(){const e=document.getElementById("asset-preview");document.getElementById("asset-title").textContent="Showcase",yt="";const t=document.getElementById("search-input");t&&(t.value="");const n=document.getElementById("search-clear");n&&(n.style.display="none");const r=`
        <div class="showcase-container">
            <div class="showcase-header">
                <h2>ElizaOS Creative Projects</h2>
                <p>Explore projects built with ElizaOS creative assets</p>
            </div>
            
            <!-- Projects Grid -->
            <div class="showcase-grid" id="showcase-grid">
                <!-- Shmotime Project -->
                <div class="showcase-item">
                    <div class="showcase-thumbnail">
                        <div class="showcase-placeholder"></div>
                    </div>
                    <div class="showcase-info">
                        <h3>Shmotime</h3>
                        <p>AI-generated gaming and tech content powered by ElizaOS. Watch episodes featuring game reviews, tech discussions, and community highlights.</p>
                        <a href="https://shmotime.com/shmotime_episode/" class="showcase-link" target="_blank">Visit Shmotime </a>
                    </div>
                </div>
                
                <!-- Placeholder for more projects -->
                <div class="showcase-item">
                    <div class="showcase-thumbnail">
                        <div class="showcase-placeholder"></div>
                    </div>
                    <div class="showcase-info">
                        <h3>More Projects Coming Soon</h3>
                        <p>We're always adding new ElizaOS creative projects. Check back soon for more showcases!</p>
                        <a href="#" class="showcase-link" style="opacity: 0.5; pointer-events: none;">Coming Soon</a>
                    </div>
                </div>
            </div>
        </div>
    `;e.innerHTML=r;const i=e.querySelectorAll(".showcase-item");i.length>0&&Tt(i,{opacity:[0,1],y:[20,0]},{duration:.6,delay:Kt(.1),easing:"ease-out"})}async function Yo(){const e=document.getElementById("asset-preview");document.getElementById("asset-title").textContent="LLM Resources",yt="";const t=document.getElementById("search-input");t&&(t.value="");const n=document.getElementById("search-clear");n&&(n.style.display="none");const r=`
        <div class="llms-container">
            <div class="llms-header">
                <h2>LLM Tools & Resources</h2>
                <p>Tools, prompts, and guides for creating art with LLMs</p>
            </div>
            
            <div class="llms-section">
                <h3> Tools & Platforms</h3>
                <div class="llms-links">
                    <a href="https://openai.com/dall-e" target="_blank" class="llms-link-card" rel="noopener noreferrer">
                        <div class="llms-link-icon"></div>
                        <div class="llms-link-info">
                            <h4>DALL-E</h4>
                            <p>AI image generation by OpenAI</p>
                        </div>
                    </a>
                    <a href="https://midjourney.com" target="_blank" class="llms-link-card" rel="noopener noreferrer">
                        <div class="llms-link-icon"></div>
                        <div class="llms-link-info">
                            <h4>Midjourney</h4>
                            <p>AI art generation platform</p>
                        </div>
                    </a>
                    <a href="https://stability.ai" target="_blank" class="llms-link-card" rel="noopener noreferrer">
                        <div class="llms-link-icon"></div>
                        <div class="llms-link-info">
                            <h4>Stability AI</h4>
                            <p>Open-source AI image models</p>
                        </div>
                    </a>
                    <a href="https://huggingface.co" target="_blank" class="llms-link-card" rel="noopener noreferrer">
                        <div class="llms-link-icon"></div>
                        <div class="llms-link-info">
                            <h4>Hugging Face</h4>
                            <p>AI models and datasets platform</p>
                        </div>
                    </a>
                    <a href="https://wan-animate.com" target="_blank" class="llms-link-card" rel="noopener noreferrer">
                        <div class="llms-link-icon"></div>
                        <div class="llms-link-info">
                            <h4>WAN</h4>
                            <p>AI animation and video generation</p>
                        </div>
                    </a>
                    <a href="https://openai.com/sora" target="_blank" class="llms-link-card" rel="noopener noreferrer">
                        <div class="llms-link-icon"></div>
                        <div class="llms-link-info">
                            <h4>Sora</h4>
                            <p>AI video generation by OpenAI</p>
                        </div>
                    </a>
                    <a href="https://suno.com" target="_blank" class="llms-link-card" rel="noopener noreferrer">
                        <div class="llms-link-icon"></div>
                        <div class="llms-link-info">
                            <h4>Suno</h4>
                            <p>AI music generation platform</p>
                        </div>
                    </a>
                    <a href="https://gemini.google.com" target="_blank" class="llms-link-card" rel="noopener noreferrer">
                        <div class="llms-link-icon"></div>
                        <div class="llms-link-info">
                            <h4>Gemini</h4>
                            <p>Google's AI model platform</p>
                        </div>
                    </a>
                    <a href="https://runwayml.com" target="_blank" class="llms-link-card" rel="noopener noreferrer">
                        <div class="llms-link-icon"></div>
                        <div class="llms-link-info">
                            <h4>RunwayML</h4>
                            <p>AI video and image generation tools</p>
                        </div>
                    </a>
                    <a href="https://krea.ai" target="_blank" class="llms-link-card" rel="noopener noreferrer">
                        <div class="llms-link-icon"></div>
                        <div class="llms-link-info">
                            <h4>Krea.ai</h4>
                            <p>AI image generation and enhancement</p>
                        </div>
                    </a>
                    <a href="https://www.comfy.org" target="_blank" class="llms-link-card" rel="noopener noreferrer">
                        <div class="llms-link-icon"></div>
                        <div class="llms-link-info">
                            <h4>ComfyUI</h4>
                            <p>Node-based UI for Stable Diffusion</p>
                        </div>
                    </a>
                </div>
            </div>
            
            <div class="llms-section">
                <h3> Example Prompts</h3>
                <div class="llms-prompts">
                    <div class="llms-prompt-card">
                        <h4>ElizaOS Character Design</h4>
                        <code class="llms-prompt-text">A sleek, futuristic AI character design for ElizaOS, featuring a minimalist aesthetic with purple and blue accents, digital art style, high detail, 4k</code>
                    </div>
                    <div class="llms-prompt-card">
                        <h4>Ambient Background</h4>
                        <code class="llms-prompt-text">Abstract digital landscape with soft gradients, ambient lighting, cyberpunk atmosphere, suitable for background music visualizer, 16:9 aspect ratio</code>
                    </div>
                    <div class="llms-prompt-card">
                        <h4>Brand Identity</h4>
                        <code class="llms-prompt-text">Modern logo concept for ElizaOS, combining geometric shapes with organic curves, purple and white color scheme, clean and professional, vector style</code>
                    </div>
                </div>
            </div>
            
            <div class="llms-section">
                <h3> How-To Guides</h3>
                <div class="llms-guides">
                    <div class="llms-guide-card">
                        <h4>Getting Started with AI Art</h4>
                        <p>Learn the basics of prompt engineering and how to create effective prompts for AI image generation.</p>
                        <ul>
                            <li>Start with clear subject descriptions</li>
                            <li>Add style modifiers (art style, mood, lighting)</li>
                            <li>Specify technical details (resolution, aspect ratio)</li>
                            <li>Iterate and refine your prompts</li>
                        </ul>
                    </div>
                    <div class="llms-guide-card">
                        <h4>Creating Consistent Brand Assets</h4>
                        <p>Tips for maintaining visual consistency across multiple AI-generated assets for your brand.</p>
                        <ul>
                            <li>Use consistent color palettes</li>
                            <li>Define style keywords to reuse</li>
                            <li>Create a prompt template</li>
                            <li>Save successful prompts for reference</li>
                        </ul>
                    </div>
                    <div class="llms-guide-card">
                        <h4>Optimizing for Different Use Cases</h4>
                        <p>How to tailor your prompts for specific applications like thumbnails, backgrounds, or icons.</p>
                        <ul>
                            <li>Thumbnails: Focus on composition and readability</li>
                            <li>Backgrounds: Consider negative space</li>
                            <li>Icons: Simplify and emphasize clarity</li>
                            <li>Social media: Optimize for platform dimensions</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    `;e.innerHTML=r;const i=e.querySelectorAll(".llms-section");i.length>0&&Tt(i,{opacity:[0,1],y:[20,0]},{duration:.6,delay:Kt(.15),easing:"ease-out"})}async function Me(){const e=document.getElementById("asset-preview");document.getElementById("asset-title").textContent="Brand Kit",mt="preview";try{const t=bt(),n=await fetch(`${t}/Brand Kit/index.html`);if(!n.ok)throw new Error("Failed to load brand kit page");const r=await n.text(),s=new DOMParser().parseFromString(r,"text/html").querySelector(".brand-kit-container");if(s){const o=s.cloneNode(!0),l=o.querySelector(".back-link");l&&l.remove(),e.innerHTML=o.innerHTML;const g=e.querySelectorAll(".brand-kit-content > *");g.length>0&&Tt(g,{opacity:[0,1],y:[20,0]},{duration:.6,delay:Kt(.08),easing:"ease-out"})}else e.innerHTML='<div class="empty-state"><p>Brand Kit content not found</p></div>'}catch(t){console.error("Error loading brand kit page:",t),e.innerHTML='<div class="empty-state"><p>Error loading brand kit page</p></div>'}}function Xo(){const e=document.querySelector(".browser-panel");e&&Tt(e,{opacity:[0,1],x:[-20,0]},{duration:.5,easing:"ease-out"});const t=document.querySelector(".main-panel");t&&Tt(t,{opacity:[0,1],x:[20,0]},{duration:.5,delay:.1,easing:"ease-out"})}let X={currentTrackIndex:0,playlist:[],audioElement:null,isPlaying:!1,volume:1,isMuted:!1,isInitialized:!1};function mi(){const e=Ft.filter(a=>{const s=a.name.split(".").pop().toLowerCase();return["mp3","wav","ogg","m4a"].includes(s)});if(e.length===0){const a=document.getElementById("header-music-player");a&&(a.style.display="none");return}const t=document.getElementById("header-music-player");if(!t)return;t.classList.remove("hidden");const n=bt(),r=e.map(a=>{const s=a.path.startsWith("/")?a.path:`/${a.path}`;return{name:a.name,path:`${n}${s}`,originalPath:a.path,displayName:a.name.replace(/\.[^/.]+$/,"")}});X.playlist=r;let i=0;r.length>0&&!X.isInitialized&&(i=Math.floor(Math.random()*r.length),X.currentTrackIndex=i),t.innerHTML=Jo(r,i),X.isInitialized?Qo():(gi(),X.isInitialized=!0)}function Jo(e,t=0){const n=e[t]||e[0],r=t+1;return`
        <div class="music-player-container header-player">
            <div class="music-player">
                <div class="music-player-info">
                    <div class="music-player-track-info">
                        <div class="music-player-track-name" id="music-player-track-name">${(n==null?void 0:n.displayName)||"No track"}</div>
                        <div class="music-player-track-number" id="music-player-track-number">${r} / ${e.length}</div>
                    </div>
                    <audio id="music-player-audio" preload="metadata"></audio>
                    <div class="music-player-controls">
                        <button class="music-player-btn" id="music-player-prev" title="Previous"></button>
                        <button class="music-player-btn music-player-play-pause" id="music-player-play-pause" title="Play/Pause"></button>
                        <button class="music-player-btn" id="music-player-next" title="Next"></button>
                        <a class="music-player-btn music-player-download" id="music-player-download" title="Download Track" download>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                        </a>
                        <button class="music-player-btn music-player-add-to-zip" id="music-player-add-to-zip" title="Add to Zip">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                                <path d="M3 15h18"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="music-player-progress">
                        <div class="music-player-time" id="music-player-current-time">0:00</div>
                        <input type="range" class="music-player-seek" id="music-player-seek" min="0" max="100" value="0">
                        <div class="music-player-time" id="music-player-duration">0:00</div>
                    </div>
                    <div class="music-player-volume-wrapper">
                        <button class="music-player-btn music-player-volume-btn" id="music-player-mute" title="Mute/Unmute"></button>
                        <div class="music-player-volume-expandable" id="music-player-volume-expandable">
                            <input type="range" class="music-player-volume-slider" id="music-player-volume" min="0" max="100" value="100">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `}function Qo(){const e=document.getElementById("music-player-audio");e&&!X.audioElement&&(X.audioElement=e),gi()}function gi(e){const t=document.getElementById("music-player-audio");if(!t)return;X.audioElement,X.audioElement=t,X.playlist.length>0&&!X.isInitialized&&setTimeout(()=>{const f=X.currentTrackIndex;f>=0&&f<X.playlist.length&&le(f)},100);const n=document.getElementById("music-player-volume"),r=document.getElementById("music-player-mute"),i=document.getElementById("music-player-volume-expandable");if(r&&i){let f;r.addEventListener("mouseenter",()=>{clearTimeout(f),i.classList.add("expanded")}),r.addEventListener("mouseleave",()=>{f=setTimeout(()=>{i.classList.remove("expanded")},500)}),n&&(n.addEventListener("mouseenter",()=>{clearTimeout(f),i.classList.add("expanded")}),n.addEventListener("mouseleave",()=>{f=setTimeout(()=>{i.classList.remove("expanded")},500)}))}n&&(n.addEventListener("input",f=>{const d=f.target.value/100;X.volume=d,t&&(t.volume=d,d===0?(X.isMuted=!0,r&&(r.textContent="")):X.isMuted&&d>0&&(X.isMuted=!1,r&&(r.textContent="")))}),n.value=X.volume*100,t&&(t.volume=X.volume)),r&&r.addEventListener("click",()=>{t&&(X.isMuted?(t.volume=X.volume,X.isMuted=!1,r.textContent="",n&&(n.value=X.volume*100)):(t.volume=0,X.isMuted=!0,r.textContent="",n&&(n.value=0)))});const a=document.getElementById("music-player-download");a&&(yi(a,X.playlist[0]),a.addEventListener("click",async f=>{f.preventDefault(),f.stopPropagation();const d=X.playlist[X.currentTrackIndex];if(d)try{const h=await fetch(d.path);if(!h.ok)throw new Error("Failed to fetch file");const y=await h.blob(),u=URL.createObjectURL(y),b=document.createElement("a");b.href=u,b.download=d.name,b.style.display="none",document.body.appendChild(b),b.click(),document.body.removeChild(b),setTimeout(()=>URL.revokeObjectURL(u),100)}catch(h){console.error("Error downloading track:",h);const y=document.createElement("a");y.href=d.path,y.download=d.name,y.target="_blank",y.style.display="none",document.body.appendChild(y),y.click(),document.body.removeChild(y)}}));const s=document.getElementById("music-player-add-to-zip");s&&s.addEventListener("click",f=>{f.preventDefault(),f.stopPropagation();const d=X.playlist[X.currentTrackIndex];d&&d.originalPath&&Cn.addItem(d.originalPath,d.name)});const o=document.getElementById("music-player-play-pause");o&&o.addEventListener("click",()=>{X.isPlaying?t.pause():t.play()});const l=document.getElementById("music-player-prev");l&&l.addEventListener("click",()=>{const f=X.currentTrackIndex>0?X.currentTrackIndex-1:X.playlist.length-1;le(f),t.play()});const g=document.getElementById("music-player-next");g&&g.addEventListener("click",()=>{const f=X.currentTrackIndex<X.playlist.length-1?X.currentTrackIndex+1:0;le(f),t.play()});const p=document.getElementById("music-player-seek");p&&p.addEventListener("input",f=>{const d=f.target.value/100*t.duration;t.currentTime=d}),t.addEventListener("loadedmetadata",()=>{el(),nr()}),t.addEventListener("timeupdate",()=>{tl(),nr()}),t.addEventListener("play",()=>{X.isPlaying=!0,o&&(o.textContent="")}),t.addEventListener("pause",()=>{X.isPlaying=!1,o&&(o.textContent="")}),t.addEventListener("ended",()=>{const f=X.currentTrackIndex<X.playlist.length-1?X.currentTrackIndex+1:0;le(f),t.play()})}function le(e){if(e<0||e>=X.playlist.length)return;X.currentTrackIndex=e;const t=X.playlist[e],n=X.audioElement;if(n&&t){n.src=t.path,n.load();const r=document.getElementById("music-player-track-name"),i=document.getElementById("music-player-track-number");r&&(r.textContent=t.displayName),i&&(i.textContent=`${e+1} / ${X.playlist.length}`);const a=document.getElementById("music-player-download");a&&yi(a,t);const s=bt(),o=t.path.replace(s,""),l=o.startsWith("/")?o:`/${o}`;document.querySelectorAll(".bento-item.audio, .audio-list-item").forEach(g=>{const p=g.getAttribute("data-path");(p.startsWith("/")?p:`/${p}`)===l?g.classList.add("active-track"):g.classList.remove("active-track")})}}function yi(e,t){if(e&&t){const n=t.path||"";e.href=n,e.download=t.name||"download",e.setAttribute("download",t.name||"download")}}function vi(e){le(e),X.audioElement&&X.audioElement.play()}function tl(){const e=X.audioElement,t=document.getElementById("music-player-current-time");t&&e&&(t.textContent=bi(e.currentTime))}function el(){const e=X.audioElement,t=document.getElementById("music-player-duration");t&&e&&(t.textContent=bi(e.duration||0))}function nr(){const e=X.audioElement,t=document.getElementById("music-player-seek");if(t&&e&&e.duration){const n=e.currentTime/e.duration*100;t.value=n}}function bi(e){if(isNaN(e))return"0:00";const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n.toString().padStart(2,"0")}`}const nl=[{name:"Council Aggregated",url:"https://elizaos.github.io/knowledge/the-council/aggregated/daily.json",icon:"",color:"#8b5cf6",colorName:"purple"},{name:"Council Briefing",url:"https://elizaos.github.io/knowledge/the-council/council_briefing/daily.json",icon:"",color:"#22d3ee",colorName:"cyan"},{name:"ElizaOS AI News",url:"https://elizaos.github.io/knowledge/ai-news/elizaos/json/daily.json",icon:"",color:"#10b981",colorName:"green"},{name:"Extracted Facts",url:"https://elizaos.github.io/knowledge/the-council/facts/daily.json",icon:"",color:"#f59e0b",colorName:"orange"}];async function rl(){const e=document.getElementById("asset-preview");e.innerHTML='<div class="loading">Loading news...</div>',document.getElementById("asset-title").textContent="ElizaOS News",yt="";const t=document.getElementById("search-input");t&&(t.value=""),document.querySelectorAll(".file-tree-item").forEach(n=>{n.classList.remove("active")});try{const n=nl.map(async a=>{try{const s=await fetch(a.url);if(!s.ok)throw new Error(`Failed to load ${a.name}`);const o=await s.json();return{source:a,data:o,error:null}}catch(s){return{source:a,data:null,error:s.message}}});Re=await Promise.all(n);let r='<div class="news-container">';Re.forEach((a,s)=>{const{source:o,data:l,error:g}=a;let p="",f=0;if(g)p=`
                    <div class="news-error">
                        <p>Error loading news: ${Z(g)}</p>
                    </div>
                `;else if(l){p=il(l,o.name);const d=document.createElement("div");d.innerHTML=p,f=d.querySelectorAll(".news-card").length}r+=`
                <div class="news-source-card" data-source-color="${o.colorName}">
                    <div class="news-source-header cursor-pointer" data-source-index="${s}">
                        <div class="news-source-title">
                            <button class="news-source-toggle" data-source-index="${s}" title="Expand/Collapse">
                                <svg class="toggle-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                            <span class="news-source-icon">${o.icon}</span>
                            <h2>${Z(o.name)}</h2>
                            ${f>0?`<span class="news-source-count">(${f} items)</span>`:""}
                        </div>
                        <div class="news-source-actions">
                            <button class="copy-all-btn" data-source-index="${s}" title="Copy all content" onclick="event.stopPropagation();">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                </svg>
                                Copy All
                            </button>
                        </div>
                    </div>
                    <div class="news-source-content news-source-content-collapsed" data-source-index="${s}">
                        ${p}
                    </div>
                </div>
            `,r+=`
                    </div>
                </div>
            `}),r+="</div>",e.innerHTML=r,dl(Re),hl();const i=e.querySelectorAll(".news-source-card");i.length>0&&Tt(i,{opacity:[0,1],y:[20,0]},{duration:.4,delay:Kt(.1),easing:"ease-out"})}catch(n){console.error("Error loading news:",n),e.innerHTML='<div class="empty-state"><p>Error loading news. Please try again later.</p></div>'}}function il(e,t){let n="",r=0;return t==="Extracted Facts"&&Array.isArray(e)?(e.forEach((i,a)=>{typeof i=="object"&&i!==null?Ie(i).forEach(o=>{n+=Zt(o,r++)}):typeof i=="string"&&i.trim().length>3&&(n+=Zt({title:"Fact",content:i,type:"text"},r++))}),n):(Array.isArray(e)?e.forEach((i,a)=>{Ie(i).forEach(o=>{n+=Zt(o,r++)})}):typeof e=="object"&&e!==null?Ie(e).forEach(a=>{n+=Zt(a,r++)}):typeof e=="string"?an(e).forEach(a=>{n+=Zt(a,r++)}):n+=Zt({title:null,content:String(e),type:"text"},r++),n)}function Ie(e,t){const n=[];if(typeof e=="string")return an(e);if(typeof e!="object"||e===null)return n;if(e.title&&e.content){let s="";typeof e.content=="string"?s=e.content:Array.isArray(e.content)?s=Nt(e.content):typeof e.content=="object"?s=Xt(e.content):s=String(e.content),n.push({title:e.title,content:s,date:e.date||e.timestamp,type:"article",url:e.url||e.link})}else if(e.summary){let s="";typeof e.summary=="string"?s=e.summary:Array.isArray(e.summary)?s=Nt(e.summary):typeof e.summary=="object"?s=Xt(e.summary):s=String(e.summary),n.push({title:e.title||"Summary",content:s,date:e.date,type:"summary"})}else if(e.categories&&Array.isArray(e.categories))e.categories.forEach(s=>{if(typeof s=="object"&&s!==null){const o=s.title||s.name||"Category",l=sl(s);n.push({title:o,content:l,type:"category"})}});else if(e.items&&Array.isArray(e.items)){const s=Nt(e.items);n.push({title:e.title||"Items",content:s,type:"list"})}else Object.keys(e).forEach(s=>{const o=e[s],l=["filename","date_generated_for","type","source","date","timestamp","last_updated","updated","created","id","status","model","model_card","modelcard","model card","extracted_at","extractedat","extracted at","extracted_at_timestamp"],g=s.toLowerCase();if(!(l.includes(g)||l.some(p=>g.includes(p))))if(typeof o=="string"&&o.length>0){const p=o.trim();if(p==="---"||p===""||p.length<3)return;o.includes("##")||o.includes("**")||o.includes("* ")?an(o).forEach(d=>{d.content&&d.content.trim()&&d.content.trim()!=="---"&&(!d.title&&s!=="content"&&(d.title=s),n.push(d))}):p.length>3&&p!=="---"&&n.push({title:Wt(s),content:o,type:"field"})}else if(Array.isArray(o)&&o.length>0){const p=o.filter(f=>{if(typeof f=="string"){const d=f.trim();return d.length>3&&d!=="---"}if(typeof f=="object"&&f!==null){const d=Object.keys(f);return d.length>0&&d.some(h=>{const y=f[h];return typeof y=="string"&&y.trim().length>3&&y.trim()!=="---"})}return!0});if(p.length>0){const f=Nt(p);f&&f.trim()&&n.push({title:Wt(s),content:f,type:"list"})}}else typeof o=="object"&&o!==null&&Object.keys(o).some(d=>{const h=o[d];if(typeof h=="string"){const y=h.trim();return y.length>3&&y!=="---"}return Array.isArray(h)?h.length>0:typeof h=="object"&&h!==null?Object.keys(h).length>0:!1})&&Ie(o).forEach(h=>{if(h.content&&h.content.trim()&&h.content.trim()!=="---"){h.title||(h.title=Wt(s));const y=n.findIndex(u=>u.title===h.title&&u.type===h.type);if(y>=0&&h.type==="field"){const u=n[y];u.content&&!u.content.includes(h.content)&&(n[y].content+=`

`+h.content)}else n.push(h)}})});const r=n.filter(s=>{if(!s.content||typeof s.content!="string")return!1;const o=s.content.trim(),l=s.title?s.title.toLowerCase().trim():"";return!(["model","model card","modelcard","model_card","extracted at","extractedat","extracted_at","extracted at timestamp","status"].some(f=>l===f||l.includes(f))||o===""||o==="---"||o.length<3||o.toLowerCase()==="null"||o.toLowerCase()==="undefined"||/^\d{4}-\d{2}-\d{2}$|^\d{1,2}\/\d{1,2}\/\d{4}$|^(January|February|March|April|May|June|July|August|September|October|November|December)\s+\d{1,2},?\s+\d{4}$/i.test(o)&&(!s.title||s.title.toLowerCase()==="date")||(!s.title||s.title.trim()===""||s.title==="---")&&o.length<50)}),i=[],a=new Map;return r.forEach(s=>{const o=s.title?s.title.toLowerCase().trim():"";if(o&&a.has(o)){const l=a.get(o),g=l.content.trim().toLowerCase(),p=s.content.trim().toLowerCase();g!==p&&!g.includes(p)&&!p.includes(g)&&(l.content+=`

`+s.content)}else o&&a.set(o,s),i.push(s)}),i}function Nt(e){if(!Array.isArray(e)||e.length===0)return"";let t="";return e.forEach((n,r)=>{if(typeof n=="string")t+=` ${n}
`;else if(typeof n=="object"&&n!==null)if(n.text){let i=n.text;if(n.link||n.url){const a=n.link||n.url;i+=` [View](${a})`}t+=` ${i}
`}else if(n.title){let i=`**${n.title}**`;if(n.content&&(typeof n.content=="string"?i+=`: ${n.content}`:Array.isArray(n.content)?i+=`:
${Nt(n.content).split(`
`).map(a=>"  "+a).join(`
`)}`:i+=`:
${Xt(n.content).split(`
`).map(a=>"  "+a).join(`
`)}`),n.link||n.url){const a=n.link||n.url;i+=` [View](${a})`}t+=` ${i}
`}else if(n.name){let i=`**${n.name}**`;if(n.description&&(i+=`: ${n.description}`),n.link||n.url){const a=n.link||n.url;i+=` [View](${a})`}t+=` ${i}
`}else{const i=Xt(n);if(i&&i.trim())t+=` ${i}
`;else{const a=Object.keys(n).filter(s=>s!=="filename"&&s!=="date_generated_for"&&s!=="type"&&s!=="source");if(a.length>0){const s=a.map(o=>{const l=n[o];return typeof l=="string"?`${Wt(o)}: ${l}`:null}).filter(Boolean);s.length>0&&(t+=` ${s.join(", ")}
`)}}}else t+=` ${String(n)}
`}),t.trim()}function Xt(e){if(typeof e!="object"||e===null)return String(e);let t="";if(e.text)return t=e.text,(e.link||e.url)&&(t+=` [View](${e.link||e.url})`),t;const n=[];return Object.keys(e).forEach(r=>{if(r==="filename"||r==="date_generated_for"||r==="type"||r==="source")return;const i=e[r];typeof i=="string"&&i.length>0?n.push(`**${Wt(r)}**: ${i}`):Array.isArray(i)&&i.length>0?n.push(`**${Wt(r)}**:
${Nt(i).split(`
`).map(a=>"  "+a).join(`
`)}`):typeof i=="object"&&i!==null&&n.push(`**${Wt(r)}**:
${Xt(i).split(`
`).map(a=>"  "+a).join(`
`)}`)}),n.join(`

`)}function Wt(e){return e.replace(/_/g," ").replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase()).trim()}function sl(e){if(typeof e=="string")return e;if(typeof e!="object"||e===null)return String(e);let t="";return e.description&&(t+=e.description+`

`),e.items&&Array.isArray(e.items)&&(t+=Nt(e.items)),e.summary&&(t&&(t+=`

`),t+=e.summary),t.trim()||Xt(e)}function an(e){const t=[];return!e||typeof e!="string"||(e.split(/(?=^##?\s)/m).forEach(r=>{if(r=r.trim(),!r)return;const i=r.match(/^(##?#?\s+)(.+)$/m),a=i?i[2].trim():null;let s=i?r.replace(/^##?#?\s+.+$/m,"").trim():r.trim();if(!s)return;s.split(/\n\n+/).forEach(l=>{if(l=l.trim(),!!l)if(l.match(/^Q:\s*/i)||l.match(/^Question:/i))t.push({title:a||"Q&A",content:l,type:"qa"});else if(l.match(/^[\*\-\+]\s/)||l.match(/^\d+\.\s/))t.push({title:a||"List",content:l,type:"list"});else if(l.match(/^###\s/)){const g=l.match(/^###\s+(.+)$/m),p=g?g[1].trim():null,f=g?l.replace(/^###\s+.+$/m,"").trim():l;t.push({title:p||a,content:f,type:"section"})}else t.push({title:a,content:l,type:"paragraph"})})}),t.length===0&&e.split(/\n\n+/).forEach(i=>{i=i.trim(),i&&i.length>20&&t.push({title:null,content:i,type:"paragraph"})})),t}function Zt(e,t){let n=`<div class="news-card" data-card-index="${t}">`;return n+=`
        <button class="copy-card-btn" data-card-index="${t}" title="Copy this card">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
        </button>
    `,n+='<div class="news-card-content">',e.title&&(n+=`<h3 class="news-card-title">${Z(e.title)}</h3>`),e.date&&(n+=`<div class="news-card-date"> ${Z(String(e.date))}</div>`),e.type==="qa"?n+=al(e.content):e.type==="list"?n+=ol(e.content):e.type==="category"?n+=ll(e.content):n+=cl(e.content),e.url&&(n+=`<a href="${Z(e.url)}" target="_blank" class="news-card-link"> View Source</a>`),n+="</div></div>",n}function al(e){const t=e.split(/\n(?=A:|Answer:)/i);let n='<div class="news-card-qa">';return t.forEach(r=>{if(r=r.trim(),r.match(/^Q:/i)||r.match(/^Question:/i)){const i=r.replace(/^Q:\s*/i,"").replace(/^Question:\s*/i,"").trim();n+=`<div class="news-card-question"><strong>Q:</strong> ${de(i)}</div>`}else if(r.match(/^A:/i)||r.match(/^Answer:/i)){const i=r.replace(/^A:\s*/i,"").replace(/^Answer:\s*/i,"").trim();n+=`<div class="news-card-answer"><strong>A:</strong> ${de(i)}</div>`}else n+=`<div class="news-card-text">${de(r)}</div>`}),n+="</div>",n}function ol(e){const t=e.split(`
`).filter(r=>r.trim());let n='<ul class="news-card-list">';return t.forEach(r=>{if(r=r.trim(),!r)return;const i=r.replace(/^[\*\-\+]\s+/,"").replace(/^\d+\.\s+/,"").trim();i&&(n+=`<li>${de(i)}</li>`)}),n+="</ul>",n}function ll(e){return`<div class="news-card-text">${de(e)}</div>`}function cl(e){return e.includes("##")||e.includes("**")||e.includes("* ")?`<div class="news-card-text">${ul(e)}</div>`:`<div class="news-card-text">${Z(e).replace(/\n/g,"<br>")}</div>`}function ul(e){let t=Z(e);return t=t.replace(/^###\s+(.+)$/gm,"<h4>$1</h4>"),t=t.replace(/^##\s+(.+)$/gm,"<h3>$1</h3>"),t=t.replace(/^#\s+(.+)$/gm,"<h2>$1</h2>"),t=t.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),t=t.replace(/\*([^*]+)\*/g,"<em>$1</em>"),t=t.replace(/`([^`]+)`/g,"<code>$1</code>"),t=t.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" class="news-link">$1</a>'),t=t.replace(/\n/g,"<br>"),t}function de(e){let t=Z(e);return t=t.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),t=t.replace(/\*([^*]+)\*/g,"<em>$1</em>"),t=t.replace(/`([^`]+)`/g,"<code>$1</code>"),t=t.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" class="news-link">$1</a>'),t}function dl(e){document.querySelectorAll(".copy-all-btn").forEach(t=>{t.addEventListener("click",async n=>{n.stopPropagation();const r=parseInt(t.getAttribute("data-source-index")),i=e[r];if(i&&i.data){const a=JSON.stringify(i.data,null,2);await ir(a,t)}})}),document.querySelectorAll(".copy-card-btn").forEach(t=>{t.addEventListener("click",async n=>{n.stopPropagation();const i=t.closest(".news-card").querySelector(".news-card-content");if(i){const a=fl(i);await ir(a,t)}})})}function hl(){document.querySelectorAll(".news-source-toggle").forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();const n=e.getAttribute("data-source-index");rr(n)})}),document.querySelectorAll(".news-source-header").forEach(e=>{e.addEventListener("click",t=>{if(t.target.closest("button"))return;const n=e.getAttribute("data-source-index");rr(n)})})}function rr(e){const t=document.querySelector(`.news-source-content[data-source-index="${e}"]`),n=document.querySelector(`.news-source-toggle[data-source-index="${e}"]`),r=n==null?void 0:n.querySelector(".toggle-icon");if(!t||!n)return;t.classList.contains("news-source-content-expanded")?(t.classList.remove("news-source-content-expanded"),t.classList.add("news-source-content-collapsed"),r&&(r.style.transform="rotate(-90deg)")):(t.classList.remove("news-source-content-collapsed"),t.classList.add("news-source-content-expanded"),r&&(r.style.transform="rotate(0deg)"))}function fl(e){const t=e.cloneNode(!0);t.querySelectorAll(".copy-card-btn, .copy-all-btn").forEach(s=>s.remove());let n="";const r=t.querySelector(".news-card-title");r&&(n+=r.textContent.trim()+`

`);const i=t.querySelector(".news-card-date");i&&(n+=i.textContent.trim()+`
`);const a=t.textContent||t.innerText||"";return n+=a.replace((r==null?void 0:r.textContent)||"","").replace((i==null?void 0:i.textContent)||"","").trim(),n=n.replace(/\n{3,}/g,`

`).trim(),n}let Ne=null;function pl(){const e=document.getElementById("nav-slideshow");if(!e||e.querySelectorAll(".nav-slide").length>0)return;const t=Ft.filter(o=>{const l=o.name.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(l)});if(t.length===0){const o=bt();e.innerHTML=`<img src="${o}images/elizalooking.png" alt="Eliza" class="active">`;return}const n=[...t].sort(()=>Math.random()-.5),r=n.slice(0,Math.min(20,n.length)),i=bt();let a=0;r.forEach((o,l)=>{const g=o.name.split(".").pop().toLowerCase(),p=o.path.startsWith("/")?o.path:`/${o.path}`,f=p.replace(`.${g}`,".jpg"),d=`${i}/thumbnails${f}`,h=`${i}${p}`,y=document.createElement("div");y.className=`nav-slide ${l===0?"active":""}`,y.setAttribute("data-path",o.path),y.setAttribute("data-name",o.name),y.style.cursor="pointer";const u=document.createElement("img");u.src=d,u.alt=o.name,u.onerror=function(){this.src=h};const b=document.createElement("a");b.href=h,b.download=o.name,b.className="nav-slide-download",b.title="Download",b.innerHTML=`
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
        `,b.addEventListener("click",v=>{v.stopPropagation()}),y.appendChild(u),y.appendChild(b),e.appendChild(y),y.addEventListener("click",v=>{v.target.closest(".nav-slide-download")||(we(o.path,o.name),mt!=="preview"&&(mt="preview"))})}),Ne&&clearInterval(Ne);function s(){const o=e.querySelectorAll(".nav-slide");o.length!==0&&(o[a].classList.remove("active"),a=(a+1)%o.length,o[a].classList.add("active"))}Ne=setInterval(s,3e3)}function ml(){const e=document.getElementById("about-hero-bento");if(!e)return;const t=e.querySelector(".about-hero-bento-wrapper");if(!t||t.querySelectorAll(".about-hero-item").length>0)return;const n=Ft.filter(l=>{const g=l.name.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(g)});if(n.length===0){t.innerHTML='<p style="color: var(--text-secondary); padding: 40px; text-align: center;">No images available</p>';return}const r=[...n].sort(()=>Math.random()-.5),i=r.slice(0,Math.min(36,r.length)),a=bt(),s=["size-small","size-square","size-medium","size-wide","size-tall","size-small","size-square","size-large","size-small"];let o="";i.forEach((l,g)=>{const p=l.name.split(".").pop().toLowerCase(),f=l.path.startsWith("/")?l.path:`/${l.path}`,d=f.replace(`.${p}`,".jpg"),h=`${a}/thumbnails${d}`,y=`${a}${f}`,u=s[g%s.length];o+=`
            <div class="about-hero-item ${u}" data-path="${Z(l.path)}" data-name="${Z(l.name)}">
                <img src="${h}" alt="${Z(l.name)}" loading="lazy" onerror="this.src='${y}'">
                <a href="${y}" download="${Z(l.name)}" class="about-hero-download" title="Download" onclick="event.stopPropagation();">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                </a>
            </div>
        `}),o+=o,t.innerHTML=o,t.querySelectorAll(".about-hero-item").forEach(l=>{l.addEventListener("click",g=>{if(g.target.closest(".about-hero-download"))return;const p=l.getAttribute("data-path"),f=l.getAttribute("data-name");p&&f&&(we(p,f),mt!=="preview"&&(mt="preview"))})})}async function ir(e,t){try{await navigator.clipboard.writeText(e);const n=t.innerHTML;t.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>',t.style.color="#10b981",setTimeout(()=>{t.innerHTML=n,t.style.color=""},2e3)}catch(n){console.error("Failed to copy:",n);const r=document.createElement("textarea");r.value=e,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r);const i=t.innerHTML;t.innerHTML="",t.style.color="#10b981",setTimeout(()=>{t.innerHTML=i,t.style.color=""},2e3)}}
